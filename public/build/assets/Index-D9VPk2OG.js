import{r as y,c as L,a as g,o as n,w as E,b as e,d as l,u as r,t as s,g as _,e as c,f as h,m as N,D as T,F as k,h as w,n as C,i as x}from"./app-BDRYJjhc.js";import{a as m,_ as q}from"./DashboardLayout-Bab0d4P_.js";import{U as B}from"./user-check-D2rm2oh_.js";import{C as F}from"./calendar-9ij9XUqA.js";import{c as f}from"./createLucideIcon-BNh8b1PT.js";import{L as U}from"./link-ng8Hi3oy.js";import{C as I}from"./copy-D_nhykZO.js";import{L as K}from"./loader-circle-DXATza37.js";import{K as O}from"./key-BaeAHDuV.js";import{R as P}from"./refresh-cw-4a1snw_y.js";import{C as V,a as D}from"./chevron-right-Bdld8dRt.js";import"./eye-CSMCi45H.js";import"./menu-B05H3Pe5.js";/**
 * @license lucide-vue-next v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S=f("coins",[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]]);/**
 * @license lucide-vue-next v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J=f("qr-code",[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]]);/**
 * @license lucide-vue-next v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z=f("share-2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-vue-next v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y=f("user-plus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]),G={class:"bg-gradient-to-r from-indigo-500/20 to-purple-500/20 backdrop-blur-sm text-white px-4 lg:px-8 py-3 flex items-center space-x-2 text-sm border-b border-indigo-500/20"},H={class:"p-4 lg:p-8"},Q={class:"max-w-7xl mx-auto"},W={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8"},$={class:"bg-gradient-to-br from-blue-600/40 to-cyan-600/40 backdrop-blur-xl border border-blue-500/30 rounded-2xl p-6 shadow-2xl shadow-blue-500/20"},X={class:"flex items-center justify-between"},Z={class:"text-3xl font-bold text-white"},ee={class:"bg-gradient-to-br from-green-600/40 to-emerald-600/40 backdrop-blur-xl border border-green-500/30 rounded-2xl p-6 shadow-2xl shadow-green-500/20"},te={class:"flex items-center justify-between"},se={class:"text-3xl font-bold text-white"},oe={class:"text-green-200 text-xs mt-2"},re={class:"bg-gradient-to-br from-purple-600/40 to-pink-600/40 backdrop-blur-xl border border-purple-500/30 rounded-2xl p-6 shadow-2xl shadow-purple-500/20"},le={class:"flex items-center justify-between"},ie={class:"text-3xl font-bold text-white"},ae={class:"bg-gradient-to-br from-orange-600/40 to-yellow-600/40 backdrop-blur-xl border border-orange-500/30 rounded-2xl p-6 shadow-2xl shadow-orange-500/20"},ne={class:"flex items-center justify-between"},de={class:"text-3xl font-bold text-white"},ce={class:"bg-gradient-to-br from-slate-800/50 to-slate-900/50 backdrop-blur-xl border border-indigo-500/30 rounded-2xl p-6 shadow-2xl shadow-indigo-500/20 mb-8"},pe={class:"flex flex-col lg:flex-row items-start lg:items-center justify-between gap-6"},xe={class:"flex-1"},ue={class:"text-lg font-bold text-white mb-2 flex items-center"},be={class:"flex items-center space-x-2"},me={class:"flex-1 bg-black/30 border border-indigo-500/30 rounded-xl p-3"},fe={class:"text-white font-mono text-sm break-all"},ge={class:"mt-4"},he={class:"flex items-center space-x-2"},ve={class:"bg-gradient-to-r from-indigo-700/40 to-purple-700/40 border border-indigo-500/30 rounded-xl p-3"},ye={class:"text-white font-bold text-xl"},_e=["disabled"],ke={class:"bg-black/20 p-4 rounded-xl border border-indigo-500/20"},we={class:"text-center"},Ce={class:"bg-gradient-to-br from-slate-800/50 to-slate-900/50 backdrop-blur-xl border border-purple-500/30 rounded-2xl p-6 shadow-2xl shadow-purple-500/20"},Se={class:"flex items-center justify-between mb-6"},ze={class:"text-lg font-bold text-white flex items-center"},je={class:"flex items-center space-x-2"},Ae={class:"hidden lg:block overflow-x-auto"},Me={class:"w-full"},Re={class:"py-4 px-4"},Le={class:"flex items-center space-x-3"},Ee={class:"w-10 h-10 rounded-full bg-gradient-to-r from-purple-600 to-pink-600 flex items-center justify-center"},Ne={class:"text-white font-bold text-sm"},Te={class:"text-white font-semibold"},qe={class:"text-purple-300 text-xs"},Be={class:"py-4 px-4"},Fe={class:"text-white"},Ue={class:"py-4 px-4"},Ie={class:"text-white"},Ke={class:"py-4 px-4"},Oe={class:"py-4 px-4"},Pe={class:"text-white font-semibold"},Ve={class:"py-4 px-4"},De={key:0},Je={class:"text-blue-300 text-xs mt-1"},Ye={key:1,class:"text-gray-400 text-sm"},Ge={class:"lg:hidden space-y-4"},He={class:"flex items-center justify-between mb-3"},Qe={class:"flex items-center space-x-3"},We={class:"w-10 h-10 rounded-full bg-gradient-to-r from-purple-600 to-pink-600 flex items-center justify-center"},$e={class:"text-white font-bold text-sm"},Xe={class:"text-white font-semibold"},Ze={class:"text-purple-300 text-xs"},et={class:"grid grid-cols-2 gap-3 text-sm"},tt={class:"text-white"},st={class:"text-white"},ot={class:"text-white font-semibold"},rt={key:0},lt={key:1,class:"text-gray-400"},it={key:0,class:"text-center py-12"},at={key:1,class:"flex items-center justify-between mt-6 pt-6 border-t border-purple-500/20"},nt={class:"text-purple-300 text-sm"},dt={class:"flex items-center space-x-2"},ct=["disabled"],pt={class:"text-white text-sm"},xt=["disabled"],ut={class:"mt-8 grid grid-cols-1 lg:grid-cols-3 gap-6"},bt={class:"bg-gradient-to-br from-green-600/40 to-emerald-600/40 backdrop-blur-xl border border-green-500/30 rounded-2xl p-6 shadow-2xl shadow-green-500/20"},mt={class:"text-center"},ft={class:"bg-gradient-to-br from-blue-600/40 to-cyan-600/40 backdrop-blur-xl border border-blue-500/30 rounded-2xl p-6 shadow-2xl shadow-blue-500/20"},gt={class:"text-center"},ht={class:"bg-gradient-to-br from-purple-600/40 to-pink-600/40 backdrop-blur-xl border border-purple-500/30 rounded-2xl p-6 shadow-2xl shadow-purple-500/20"},vt={class:"text-center"},Nt={__name:"Index",props:{referrals:Object,stats:Object,monthly_referrals:Number,active_percentage:Number},setup(i){const d=i,p=y("all"),u=y(!1),b=L(()=>p.value==="all"?d.referrals.data:p.value==="active"?d.referrals.data.filter(a=>a.is_active):p.value==="inactive"?d.referrals.data.filter(a=>!a.is_active):p.value==="agent"?d.referrals.data.filter(a=>a.is_agent):d.referrals.data),v=async()=>{try{await navigator.clipboard.writeText(d.stats.referral_link),alert("Referral link copied to clipboard!")}catch(a){console.error("Failed to copy:",a);const t=document.createElement("textarea");t.value=d.stats.referral_link,document.body.appendChild(t),t.select(),document.execCommand("copy"),document.body.removeChild(t),alert("Referral link copied to clipboard!")}},j=async()=>{u.value=!0;try{await x.post(route("team.generate-code"),{},{preserveScroll:!0,onSuccess:a=>{const t=a?.props?.flash||{};t.success?(alert(t.success),x.reload()):t.info&&alert(t.info)},onError:a=>{console.error("Error generating code:",a),alert("Failed to generate referral code. Please try again.")}})}catch(a){console.error("Error generating code:",a),alert("An unexpected error occurred.")}finally{u.value=!1}},A=()=>{x.reload()},M=()=>{d.referrals.prev_page_url&&x.visit(d.referrals.prev_page_url)},R=()=>{d.referrals.next_page_url&&x.visit(d.referrals.next_page_url)};return(a,t)=>(n(),g(q,{title:"My Team"},{default:E(()=>[e("div",G,[l(r(m),{size:16,class:"text-indigo-400"}),t[1]||(t[1]=e("span",null,"Team",-1)),t[2]||(t[2]=e("span",{class:"text-indigo-400"},"â€º",-1)),t[3]||(t[3]=e("span",{class:"text-indigo-300"},"My Referrals",-1))]),e("div",H,[e("div",Q,[e("div",W,[e("div",$,[e("div",X,[e("div",null,[t[4]||(t[4]=e("p",{class:"text-blue-300 text-sm mb-1"},"Total Referrals",-1)),e("p",Z,s(i.stats.total_referrals),1)]),l(r(m),{size:32,class:"text-blue-400"})]),t[5]||(t[5]=e("p",{class:"text-blue-200 text-xs mt-2"},"All time referrals",-1))]),e("div",ee,[e("div",te,[e("div",null,[t[6]||(t[6]=e("p",{class:"text-green-300 text-sm mb-1"},"Active Referrals",-1)),e("p",se,s(i.stats.active_referrals),1)]),l(r(B),{size:32,class:"text-green-400"})]),e("p",oe,s(i.active_percentage)+"% active rate",1)]),e("div",re,[e("div",le,[e("div",null,[t[7]||(t[7]=e("p",{class:"text-purple-300 text-sm mb-1"},"This Month",-1)),e("p",ie,s(i.monthly_referrals),1)]),l(r(F),{size:32,class:"text-purple-400"})]),t[8]||(t[8]=e("p",{class:"text-purple-200 text-xs mt-2"},"New referrals this month",-1))]),e("div",ae,[e("div",ne,[e("div",null,[t[9]||(t[9]=e("p",{class:"text-orange-300 text-sm mb-1"},"Total Earned",-1)),e("p",de,"KES "+s(i.stats.total_earned.toLocaleString()),1)]),l(r(S),{size:32,class:"text-orange-400"})]),t[10]||(t[10]=e("p",{class:"text-orange-200 text-xs mt-2"},"From all referrals",-1))])]),e("div",ce,[e("div",pe,[e("div",xe,[e("h3",ue,[l(r(U),{size:20,class:"mr-2 text-indigo-400"}),t[11]||(t[11]=_(" Your Referral Link "))]),t[15]||(t[15]=e("p",{class:"text-indigo-300 text-sm mb-3"}," Share this link with friends to earn commissions on their activities ",-1)),e("div",be,[e("div",me,[e("p",fe,s(i.stats.referral_link),1)]),e("button",{onClick:v,class:"bg-gradient-to-r from-indigo-600 to-purple-600 hover:from-indigo-500 hover:to-purple-500 text-white font-bold py-3 px-4 rounded-xl transition-all duration-200 shadow-lg shadow-indigo-500/50 flex items-center space-x-2"},[l(r(I),{size:18}),t[12]||(t[12]=e("span",null,"Copy",-1))])]),e("div",ge,[t[14]||(t[14]=e("p",{class:"text-indigo-300 text-sm mb-1"},"Your Referral Code:",-1)),e("div",he,[e("div",ve,[e("p",ye,s(i.stats.referral_code||"Not Generated"),1)]),i.stats.referral_code?h("",!0):(n(),c("button",{key:0,onClick:j,disabled:u.value,class:"bg-gradient-to-r from-green-600 to-emerald-600 hover:from-green-500 hover:to-emerald-500 disabled:from-slate-600 disabled:to-slate-600 text-white font-bold py-3 px-4 rounded-xl transition-all duration-200 shadow-lg shadow-green-500/50 flex items-center space-x-2"},[u.value?(n(),g(r(K),{key:0,size:18,class:"animate-spin"})):(n(),g(r(O),{key:1,size:18})),t[13]||(t[13]=e("span",null,"Generate Code",-1))],8,_e))])])]),e("div",ke,[e("div",we,[l(r(J),{size:100,class:"mx-auto text-indigo-400 mb-2"}),t[16]||(t[16]=e("p",{class:"text-indigo-300 text-xs"},"Scan to join",-1))])])])]),e("div",Ce,[e("div",Se,[e("h3",ze,[l(r(m),{size:20,class:"mr-2"}),_(" My Referrals ("+s(i.referrals.total)+") ",1)]),e("div",je,[N(e("select",{"onUpdate:modelValue":t[0]||(t[0]=o=>p.value=o),class:"bg-black/30 border border-purple-500/30 text-white rounded-xl px-3 py-2 text-sm focus:outline-none focus:border-purple-500"},t[17]||(t[17]=[e("option",{value:"all"},"All Status",-1),e("option",{value:"active"},"Active Only",-1),e("option",{value:"inactive"},"Inactive Only",-1),e("option",{value:"agent"},"Agents Only",-1)]),512),[[T,p.value]]),e("button",{onClick:A,class:"bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-500 hover:to-pink-500 text-white font-bold py-2 px-3 rounded-xl transition-all duration-200 shadow-lg shadow-purple-500/50 flex items-center space-x-2"},[l(r(P),{size:16})])])]),e("div",Ae,[e("table",Me,[t[19]||(t[19]=e("thead",null,[e("tr",{class:"border-b border-purple-500/20"},[e("th",{class:"text-left py-3 px-4 text-purple-300 text-sm font-semibold"},"User"),e("th",{class:"text-left py-3 px-4 text-purple-300 text-sm font-semibold"},"Joined Date"),e("th",{class:"text-left py-3 px-4 text-purple-300 text-sm font-semibold"},"Last Active"),e("th",{class:"text-left py-3 px-4 text-purple-300 text-sm font-semibold"},"Status"),e("th",{class:"text-left py-3 px-4 text-purple-300 text-sm font-semibold"},"Balance"),e("th",{class:"text-left py-3 px-4 text-purple-300 text-sm font-semibold"},"Agent Status")])],-1)),e("tbody",null,[(n(!0),c(k,null,w(b.value,o=>(n(),c("tr",{key:o.id,class:"border-b border-purple-500/10 hover:bg-purple-500/5 transition-colors"},[e("td",Re,[e("div",Le,[e("div",Ee,[e("span",Ne,s(o.name.charAt(0)),1)]),e("div",null,[e("p",Te,s(o.name),1),e("p",qe,s(o.email),1)])])]),e("td",Be,[e("p",Fe,s(o.joined_date),1)]),e("td",Ue,[e("p",Ie,s(o.last_active),1)]),e("td",Ke,[e("span",{class:C([o.is_active?"bg-green-500/20 text-green-400":"bg-red-500/20 text-red-400","px-3 py-1 rounded-full text-xs font-semibold"])},s(o.is_active?"Active":"Inactive"),3)]),e("td",Oe,[e("p",Pe,"KES "+s(o.balance.toLocaleString()),1)]),e("td",Ve,[o.is_agent?(n(),c("div",De,[t[18]||(t[18]=e("span",{class:"bg-blue-500/20 text-blue-400 px-3 py-1 rounded-full text-xs font-semibold"}," Agent ",-1)),e("p",Je,"Since "+s(o.agent_since),1)])):(n(),c("span",Ye,"Not an agent"))])]))),128))])])]),e("div",Ge,[(n(!0),c(k,null,w(b.value,o=>(n(),c("div",{key:o.id,class:"bg-black/20 border border-purple-500/20 rounded-xl p-4"},[e("div",He,[e("div",Qe,[e("div",We,[e("span",$e,s(o.name.charAt(0)),1)]),e("div",null,[e("p",Xe,s(o.name),1),e("p",Ze,s(o.email),1)])]),e("span",{class:C([o.is_active?"bg-green-500/20 text-green-400":"bg-red-500/20 text-red-400","px-3 py-1 rounded-full text-xs font-semibold"])},s(o.is_active?"Active":"Inactive"),3)]),e("div",et,[e("div",null,[t[20]||(t[20]=e("p",{class:"text-purple-300"},"Joined",-1)),e("p",tt,s(o.joined_date),1)]),e("div",null,[t[21]||(t[21]=e("p",{class:"text-purple-300"},"Last Active",-1)),e("p",st,s(o.last_active),1)]),e("div",null,[t[22]||(t[22]=e("p",{class:"text-purple-300"},"Balance",-1)),e("p",ot,"KES "+s(o.balance.toLocaleString()),1)]),e("div",null,[t[24]||(t[24]=e("p",{class:"text-purple-300"},"Agent Status",-1)),o.is_agent?(n(),c("div",rt,t[23]||(t[23]=[e("span",{class:"bg-blue-500/20 text-blue-400 px-2 py-1 rounded-full text-xs font-semibold"}," Agent ",-1)]))):(n(),c("p",lt,"Not an agent"))])])]))),128))]),b.value.length===0?(n(),c("div",it,[l(r(m),{size:64,class:"mx-auto text-purple-400 mb-4 opacity-50"}),t[26]||(t[26]=e("p",{class:"text-purple-300 text-lg mb-2"},"No referrals yet",-1)),t[27]||(t[27]=e("p",{class:"text-purple-400 text-sm mb-6"},"Start sharing your referral link to build your team",-1)),e("button",{onClick:v,class:"bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-500 hover:to-pink-500 text-white font-bold py-3 px-6 rounded-xl transition-all duration-200 shadow-lg shadow-purple-500/50 flex items-center space-x-2 mx-auto"},[l(r(z),{size:18}),t[25]||(t[25]=e("span",null,"Share Referral Link",-1))])])):h("",!0),i.referrals.total>0?(n(),c("div",at,[e("p",nt," Showing "+s(b.value.length)+" of "+s(i.referrals.total)+" referrals ",1),e("div",dt,[e("button",{onClick:M,disabled:!i.referrals.prev_page_url,class:"bg-black/30 border border-purple-500/30 text-white px-3 py-2 rounded-xl disabled:opacity-50 disabled:cursor-not-allowed hover:border-purple-500 transition-colors"},[l(r(V),{size:16})],8,ct),e("span",pt," Page "+s(i.referrals.current_page)+" of "+s(i.referrals.last_page),1),e("button",{onClick:R,disabled:!i.referrals.next_page_url,class:"bg-black/30 border border-purple-500/30 text-white px-3 py-2 rounded-xl disabled:opacity-50 disabled:cursor-not-allowed hover:border-purple-500 transition-colors"},[l(r(D),{size:16})],8,xt)])])):h("",!0)]),e("div",ut,[e("div",bt,[e("div",mt,[l(r(z),{size:32,class:"mx-auto text-green-400 mb-4"}),t[28]||(t[28]=e("h4",{class:"text-white font-bold mb-2"},"1. Share Your Link",-1)),t[29]||(t[29]=e("p",{class:"text-green-200 text-sm"}," Share your unique referral link with friends, family, and on social media ",-1))])]),e("div",ft,[e("div",gt,[l(r(Y),{size:32,class:"mx-auto text-blue-400 mb-4"}),t[30]||(t[30]=e("h4",{class:"text-white font-bold mb-2"},"2. They Join & Earn",-1)),t[31]||(t[31]=e("p",{class:"text-blue-200 text-sm"}," When they sign up and start earning, you get commission on their activities ",-1))])]),e("div",ht,[e("div",vt,[l(r(S),{size:32,class:"mx-auto text-purple-400 mb-4"}),t[32]||(t[32]=e("h4",{class:"text-white font-bold mb-2"},"3. Earn Rewards",-1)),t[33]||(t[33]=e("p",{class:"text-purple-200 text-sm"}," Earn commission bonuses when your referrals complete tasks and make purchases ",-1))])])])])])]),_:1}))}};export{Nt as default};
