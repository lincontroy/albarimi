import{r as z,A as M,c as j,a as v,o as d,w,b as e,d as o,u as l,e as c,f as N,t as i,p as S,l as F,g as m,F as _,h as E,n as P,m as f,v as y,B as q,q as U,i as Y}from"./app-CySw4lLa.js";import{X as A,_ as $}from"./DashboardLayout-BwZdqBzn.js";import{A as T}from"./award-UlOBdtaB.js";import{C as V}from"./circle-alert-BTfAk1vc.js";import{C as O}from"./circle-plus-B4ep2NXg.js";import{T as W}from"./tag--Jx1Nxqt.js";import{c as G}from"./createLucideIcon-BJb2igB9.js";import{F as H}from"./file-text-cm9jW3mE.js";import{L as R}from"./link-B4814HO8.js";import{P as X}from"./plus-BnWzLCtg.js";import{L as J}from"./loader-circle-t5kkk-LA.js";import{F as Q}from"./file-plus-FMz0fjEF.js";import{C as g}from"./circle-check-big-RJWez3ij.js";import{C as Z}from"./clock-B6rBuw6T.js";import{I as ee}from"./info-CrSUESUV.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./eye-D21h4GYO.js";import"./menu-2oA-EL44.js";/**
 * @license lucide-vue-next v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const te=G("square-pen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]),se={class:"bg-gradient-to-r from-purple-500/20 to-pink-500/20 backdrop-blur-sm text-white px-4 lg:px-8 py-3 flex items-center space-x-2 text-sm border-b border-purple-500/20"},le={class:"p-4 lg:p-8"},oe={class:"max-w-4xl mx-auto"},re={key:0,class:"mb-6 bg-gradient-to-br from-red-900/30 to-red-800/30 backdrop-blur-xl border border-red-500/30 rounded-2xl p-6 shadow-2xl shadow-red-500/20"},ne={class:"flex items-center space-x-3 mb-3"},ie={class:"text-red-300 mb-3"},ae={class:"grid grid-cols-1 lg:grid-cols-3 gap-8"},de={class:"lg:col-span-2"},pe={class:"bg-gradient-to-br from-slate-800/50 to-slate-900/50 backdrop-blur-xl border border-purple-500/30 rounded-2xl p-6 shadow-2xl shadow-purple-500/20"},ue={class:"mb-6"},ce={class:"block text-sm font-medium text-purple-300 mb-2"},me={class:"grid grid-cols-1 md:grid-cols-2 gap-3"},be=["onClick"],xe={class:"font-bold mb-1"},fe={class:"text-xs"},ge={class:"mb-6"},he={class:"block text-sm font-medium text-purple-300 mb-2"},ye=["disabled"],ke={class:"mb-6"},ve={class:"block text-sm font-medium text-purple-300 mb-2"},we=["disabled"],_e={class:"flex justify-between mt-1"},Ee={class:"mb-6"},Ce={class:"block text-sm font-medium text-purple-300 mb-2"},Be={class:"flex flex-wrap gap-2 mb-2"},ze=["onClick"],Se={class:"flex"},Fe=["disabled","onKeydown"],Pe=["disabled"],Ae={class:"mb-6"},Te={class:"block text-sm font-medium text-purple-300 mb-2"},Ve={class:"space-y-2 mb-2"},Ke=["onUpdate:modelValue","disabled"],De=["onClick"],Le=["disabled"],Ie={class:"mb-6"},Me={class:"flex items-start space-x-2"},je=["disabled"],Ne={for:"terms",class:"text-sm text-purple-300"},qe={class:"flex space-x-3"},Ue=["disabled"],Ye={class:"lg:col-span-1"},$e={class:"bg-gradient-to-br from-slate-800/50 to-slate-900/50 backdrop-blur-xl border border-blue-500/30 rounded-2xl p-6 shadow-2xl shadow-blue-500/20 mb-6"},Oe={class:"space-y-3"},We={class:"flex justify-between items-center"},Ge={class:"font-bold text-white"},He={class:"flex justify-between items-center"},Re={class:"font-bold text-purple-400"},Xe={class:"pt-3 border-t border-blue-500/20"},Je={class:"flex justify-between items-center mb-2"},Qe={class:"font-bold text-white"},Ze={class:"flex justify-between items-center"},et={class:"font-bold text-green-400"},tt={class:"bg-gradient-to-br from-slate-800/50 to-slate-900/50 backdrop-blur-xl border border-green-500/30 rounded-2xl p-6 shadow-2xl shadow-green-500/20 mb-6"},st={class:"space-y-2"},lt={class:"flex items-start space-x-2 text-sm text-blue-200"},ot={class:"flex items-start space-x-2 text-sm text-blue-200"},rt={class:"flex items-start space-x-2 text-sm text-blue-200"},nt={class:"flex items-start space-x-2 text-sm text-blue-200"},it={class:"flex items-start space-x-2 text-sm text-blue-200"},at={class:"bg-gradient-to-br from-slate-800/50 to-slate-900/50 backdrop-blur-xl border border-yellow-500/30 rounded-2xl p-6 shadow-2xl shadow-yellow-500/20"},dt={class:"space-y-2"},pt={class:"flex items-center space-x-2"},ut={class:"flex items-center space-x-2"},ct={class:"flex items-center space-x-2"},At={__name:"Apply",props:{packageFee:{type:Number,default:3500},hasEnoughBalance:{type:Boolean,default:!1},userBalance:{type:[Number,String],default:0},types:{type:Array,default:()=>[]}},setup(r){const h=r,b=z(!1),x=z(""),s=M({type:"professional",title:"",description:"",skills:[],links:[],agreeTerms:!1}),C=j(()=>h.types.find(a=>a.id===s.type)||h.types[0]),u=a=>(parseFloat(a)||0).toLocaleString("en-KE",{minimumFractionDigits:0,maximumFractionDigits:0}),B=()=>{x.value.trim()&&!s.skills.includes(x.value.trim())&&(s.skills.push(x.value.trim()),x.value="")},K=a=>{s.skills.splice(a,1)},D=()=>{s.links.push("")},L=a=>{s.links.splice(a,1)},I=async()=>{if(!h.hasEnoughBalance){alert("Insufficient balance for endorsement package");return}if(!s.type){alert("Please select an endorsement type");return}if(!s.title.trim()){alert("Please enter an endorsement title");return}if(s.description.length<100){alert("Description must be at least 100 characters");return}if(!s.agreeTerms){alert("You must agree to the terms and conditions");return}const a=`Are you sure you want to apply for ${C.value.name} endorsement? KES ${u(h.packageFee)} will be deducted from your balance.`;if(confirm(a)){b.value=!0;try{await Y.post("/endorsement/apply",s,{preserveScroll:!0,onSuccess:()=>{},onError:t=>{console.error("Endorsement application error:",t),alert("Failed to submit application. Please check the form and try again."),b.value=!1}})}catch(t){console.error("Endorsement application error:",t),alert("An unexpected error occurred. Please try again."),b.value=!1}}};return(a,t)=>(d(),v($,{title:"Apply for Endorsement"},{default:w(()=>[e("div",se,[o(l(T),{size:16,class:"text-purple-400"}),t[4]||(t[4]=e("span",null,"Endorsements",-1)),t[5]||(t[5]=e("span",{class:"text-purple-400"},"â€º",-1)),t[6]||(t[6]=e("span",{class:"text-purple-300"},"Apply",-1))]),e("div",le,[e("div",oe,[t[35]||(t[35]=e("div",{class:"mb-8"},[e("h1",{class:"text-2xl lg:text-3xl font-bold text-white mb-2"},"Apply for Endorsement"),e("p",{class:"text-purple-300"},"Complete your application to get verified and endorsed")],-1)),r.hasEnoughBalance?N("",!0):(d(),c("div",re,[e("div",ne,[o(l(V),{size:24,class:"text-red-400"}),t[7]||(t[7]=e("h3",{class:"text-lg font-bold text-white"},"Insufficient Balance",-1))]),e("p",ie," You need at least KES "+i(u(r.packageFee))+" for the endorsement package. Your current balance is KES "+i(u(r.userBalance))+". ",1),o(l(S),{href:"/wallet/deposit",class:"bg-gradient-to-r from-red-600 to-pink-600 hover:from-red-500 hover:to-pink-500 text-white font-bold py-2 px-4 rounded-lg transition-all duration-200 inline-flex items-center space-x-2"},{default:w(()=>[o(l(O),{size:16}),t[8]||(t[8]=e("span",null,"Deposit Funds",-1))]),_:1})])),e("div",ae,[e("div",de,[e("div",pe,[t[18]||(t[18]=e("h3",{class:"text-xl font-bold text-white mb-6"},"Endorsement Application",-1)),e("form",{onSubmit:F(I,["prevent"])},[e("div",ue,[e("label",ce,[o(l(W),{size:16,class:"inline mr-2"}),t[9]||(t[9]=m(" Endorsement Type "))]),e("div",me,[(d(!0),c(_,null,E(r.types,n=>(d(),c("button",{key:n.id,type:"button",onClick:p=>s.type=n.id,class:P([s.type===n.id?"bg-purple-600 text-white border-purple-500":"bg-black/30 text-purple-300 border-purple-500/30","border rounded-lg p-4 text-left transition-all duration-200"])},[e("h4",xe,i(n.name),1),e("p",fe,i(n.description),1)],10,be))),128))])]),e("div",ge,[e("label",he,[o(l(te),{size:16,class:"inline mr-2"}),t[10]||(t[10]=m(" Endorsement Title "))]),f(e("input",{"onUpdate:modelValue":t[0]||(t[0]=n=>s.title=n),type:"text",required:"",disabled:!r.hasEnoughBalance,class:"w-full bg-black/30 border border-purple-500/30 text-white rounded-xl px-4 py-3 focus:outline-none focus:border-purple-400 disabled:opacity-50",placeholder:"e.g., Certified Web Developer, Professional Photographer"},null,8,ye),[[y,s.title]]),t[11]||(t[11]=e("p",{class:"text-xs text-purple-400 mt-1"},"Be clear and descriptive about what you want endorsed",-1))]),e("div",ke,[e("label",ve,[o(l(H),{size:16,class:"inline mr-2"}),t[12]||(t[12]=m(" Detailed Description "))]),f(e("textarea",{"onUpdate:modelValue":t[1]||(t[1]=n=>s.description=n),rows:"5",required:"",disabled:!r.hasEnoughBalance,class:"w-full bg-black/30 border border-purple-500/30 text-white rounded-xl px-4 py-3 focus:outline-none focus:border-purple-400 disabled:opacity-50",placeholder:"Describe your skills, experience, or what you want endorsed in detail..."},null,8,we),[[y,s.description]]),e("div",_e,[t[13]||(t[13]=e("span",{class:"text-xs text-purple-400"},"Minimum 100 characters",-1)),e("span",{class:P(["text-xs",s.description.length>=100?"text-green-400":"text-red-400"])},i(s.description.length)+"/2000 ",3)])]),e("div",Ee,[e("label",Ce,[o(l(T),{size:16,class:"inline mr-2"}),t[14]||(t[14]=m(" Skills & Expertise (Optional) "))]),e("div",Be,[(d(!0),c(_,null,E(s.skills,(n,p)=>(d(),c("span",{key:p,class:"inline-flex items-center px-3 py-1 rounded-full text-sm bg-purple-600/20 text-purple-300"},[m(i(n)+" ",1),e("button",{type:"button",onClick:k=>K(p),class:"ml-2 text-purple-400 hover:text-purple-300"},[o(l(A),{size:12})],8,ze)]))),128))]),e("div",Se,[f(e("input",{"onUpdate:modelValue":t[2]||(t[2]=n=>x.value=n),type:"text",disabled:!r.hasEnoughBalance,onKeydown:q(F(B,["prevent"]),["enter"]),class:"flex-1 bg-black/30 border border-purple-500/30 text-white rounded-l-xl px-4 py-3 focus:outline-none focus:border-purple-400 disabled:opacity-50",placeholder:"Add a skill"},null,40,Fe),[[y,x.value]]),e("button",{type:"button",onClick:B,disabled:!r.hasEnoughBalance,class:"bg-purple-600 hover:bg-purple-500 text-white px-4 py-3 rounded-r-xl transition-all duration-200 disabled:opacity-50"}," Add ",8,Pe)])]),e("div",Ae,[e("label",Te,[o(l(R),{size:16,class:"inline mr-2"}),t[15]||(t[15]=m(" Supporting Links (Optional) "))]),e("div",Ve,[(d(!0),c(_,null,E(s.links,(n,p)=>(d(),c("div",{key:p,class:"flex items-center"},[f(e("input",{"onUpdate:modelValue":k=>s.links[p]=k,type:"url",disabled:!r.hasEnoughBalance,class:"flex-1 bg-black/30 border border-purple-500/30 text-white rounded-xl px-4 py-2 focus:outline-none focus:border-purple-400 disabled:opacity-50",placeholder:"https://example.com"},null,8,Ke),[[y,s.links[p]]]),e("button",{type:"button",onClick:k=>L(p),class:"ml-2 text-red-400 hover:text-red-300"},[o(l(A),{size:16})],8,De)]))),128))]),e("button",{type:"button",onClick:D,disabled:!r.hasEnoughBalance,class:"text-purple-400 hover:text-purple-300 text-sm flex items-center space-x-1"},[o(l(X),{size:14}),t[16]||(t[16]=e("span",null,"Add another link",-1))],8,Le)]),e("div",Ie,[e("div",Me,[f(e("input",{"onUpdate:modelValue":t[3]||(t[3]=n=>s.agreeTerms=n),type:"checkbox",id:"terms",disabled:!r.hasEnoughBalance,required:"",class:"mt-1"},null,8,je),[[U,s.agreeTerms]]),e("label",Ne," I agree to the endorsement terms and conditions. I understand that a non-refundable package fee of KES "+i(u(r.packageFee))+" will be deducted from my balance for 12 months of endorsement. ",1)])]),e("div",qe,[e("button",{type:"submit",disabled:!r.hasEnoughBalance||b.value||s.description.length<100,class:"flex-1 bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-500 hover:to-pink-500 disabled:from-slate-600 disabled:to-slate-600 disabled:cursor-not-allowed text-white font-bold py-3 px-6 rounded-lg transition-all duration-200 flex items-center justify-center space-x-2"},[b.value?(d(),v(l(J),{key:0,class:"animate-spin",size:20})):(d(),v(l(Q),{key:1,size:20})),e("span",null,i(b.value?"Processing...":"Submit Application"),1)],8,Ue),o(l(S),{href:"/endorsement",class:"flex-1 border border-purple-500/30 text-purple-400 hover:bg-purple-500/20 py-3 px-6 rounded-lg text-center transition-all duration-200"},{default:w(()=>t[17]||(t[17]=[m(" Cancel ")])),_:1})])],32)])]),e("div",Ye,[e("div",$e,[t[24]||(t[24]=e("h3",{class:"text-lg font-bold text-white mb-4"},"Package Summary",-1)),e("div",Oe,[e("div",We,[t[19]||(t[19]=e("span",{class:"text-sm text-blue-300"},"Endorsement Type",-1)),e("span",Ge,i(C.value?.name||"Not selected"),1)]),e("div",He,[t[20]||(t[20]=e("span",{class:"text-sm text-blue-300"},"Package Fee",-1)),e("span",Re,"KES "+i(u(r.packageFee)),1)]),t[23]||(t[23]=e("div",{class:"flex justify-between items-center"},[e("span",{class:"text-sm text-blue-300"},"Validity Period"),e("span",{class:"font-bold text-white"},"12 Months")],-1)),e("div",Xe,[e("div",Je,[t[21]||(t[21]=e("span",{class:"text-sm text-blue-300"},"Your Balance",-1)),e("span",Qe,"KES "+i(u(r.userBalance)),1)]),e("div",Ze,[t[22]||(t[22]=e("span",{class:"text-sm text-blue-300"},"After Payment",-1)),e("span",et,"KES "+i(u(r.userBalance-r.packageFee)),1)])])])]),e("div",tt,[t[30]||(t[30]=e("h3",{class:"text-lg font-bold text-white mb-4"},"What You Get",-1)),e("ul",st,[e("li",lt,[o(l(g),{size:14,class:"text-green-400 flex-shrink-0 mt-0.5"}),t[25]||(t[25]=e("span",null,"Verified badge on your profile",-1))]),e("li",ot,[o(l(g),{size:14,class:"text-green-400 flex-shrink-0 mt-0.5"}),t[26]||(t[26]=e("span",null,"Priority in search results",-1))]),e("li",rt,[o(l(g),{size:14,class:"text-green-400 flex-shrink-0 mt-0.5"}),t[27]||(t[27]=e("span",null,"Increased credibility",-1))]),e("li",nt,[o(l(g),{size:14,class:"text-green-400 flex-shrink-0 mt-0.5"}),t[28]||(t[28]=e("span",null,"12 months validity",-1))]),e("li",it,[o(l(g),{size:14,class:"text-green-400 flex-shrink-0 mt-0.5"}),t[29]||(t[29]=e("span",null,"Professional review process",-1))])])]),e("div",at,[t[34]||(t[34]=e("h3",{class:"text-lg font-bold text-white mb-4"},"Processing Time",-1)),e("div",dt,[e("div",pt,[o(l(Z),{size:16,class:"text-yellow-400"}),t[31]||(t[31]=e("span",{class:"text-sm text-yellow-300"},"Review: 3-5 business days",-1))]),e("div",ut,[o(l(V),{size:16,class:"text-yellow-400"}),t[32]||(t[32]=e("span",{class:"text-sm text-yellow-300"},"Fee is non-refundable",-1))]),e("div",ct,[o(l(ee),{size:16,class:"text-yellow-400"}),t[33]||(t[33]=e("span",{class:"text-sm text-yellow-300"},"You'll be notified via email",-1))])])])])])])])]),_:1}))}};export{At as default};
