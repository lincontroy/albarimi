import{r as v,y as U,a as T,o as l,w as x,b as t,d as a,u as o,t as r,g as c,m as C,v as R,e as n,F as g,h as w,D as S,p as y,f as b,C as D,x as K,n as F,i as q}from"./app-D6j1FQBi.js";import{W as P,T as X,X as H,_ as G,D as J,C as Q}from"./DashboardLayout-BYlz_9qN.js";import{H as Y}from"./history-DHAxKPxy.js";import{T as Z,C as tt,a as V}from"./trending-down-Re5md9Q6.js";import{R as A}from"./repeat-BNcwdK1e.js";import{S as L}from"./search-B0FrzJHD.js";import{c as j}from"./createLucideIcon-wmvZfjIg.js";import{C as et}from"./circle-check-big-UPhiIdIb.js";import{L as st}from"./loader-circle-C7QWmB1k.js";import{F as M}from"./file-text-Db2z9R1N.js";import{C as lt}from"./circle-plus-Doq2WsTG.js";import{E as ot}from"./eye-CBnRukzz.js";import"./menu-ByRzepzI.js";/**
 * @license lucide-vue-next v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rt=j("download",[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]]);/**
 * @license lucide-vue-next v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const at=j("funnel",[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]]),nt={class:"bg-gradient-to-r from-green-500/20 to-emerald-500/20 backdrop-blur-sm text-white px-4 lg:px-8 py-3 flex items-center space-x-2 text-sm border-b border-green-500/20"},it={class:"p-4 lg:p-8"},dt={class:"max-w-7xl mx-auto"},ct={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8"},ut={class:"bg-gradient-to-br from-slate-800/50 to-slate-900/50 backdrop-blur-xl border border-green-500/30 rounded-2xl p-6 shadow-2xl shadow-green-500/20"},xt={class:"flex items-center space-x-3 mb-3"},bt={class:"text-3xl font-bold text-white mb-2"},pt={class:"bg-gradient-to-br from-slate-800/50 to-slate-900/50 backdrop-blur-xl border border-blue-500/30 rounded-2xl p-6 shadow-2xl shadow-blue-500/20"},mt={class:"flex items-center space-x-3 mb-3"},ft={class:"text-3xl font-bold text-white mb-2"},gt={class:"bg-gradient-to-br from-slate-800/50 to-slate-900/50 backdrop-blur-xl border border-purple-500/30 rounded-2xl p-6 shadow-2xl shadow-purple-500/20"},yt={class:"flex items-center space-x-3 mb-3"},ht={class:"text-3xl font-bold text-white mb-2"},vt={class:"bg-gradient-to-br from-slate-800/50 to-slate-900/50 backdrop-blur-xl border border-yellow-500/30 rounded-2xl p-6 shadow-2xl shadow-yellow-500/20"},wt={class:"flex items-center space-x-3 mb-3"},_t={class:"text-3xl font-bold text-white mb-2"},kt={class:"bg-gradient-to-br from-slate-800/50 to-slate-900/50 backdrop-blur-xl border border-blue-500/30 rounded-2xl p-6 shadow-2xl shadow-blue-500/20 mb-8"},Tt={class:"grid grid-cols-1 md:grid-cols-4 gap-4"},Ct={class:"md:col-span-2"},zt={class:"block text-sm font-medium text-blue-300 mb-2"},St={class:"relative"},Dt={class:"block text-sm font-medium text-blue-300 mb-2"},Ft=["value"],Ht={class:"block text-sm font-medium text-blue-300 mb-2"},Vt=["value"],At={class:"flex justify-end mt-4 space-x-2"},Lt={class:"bg-gradient-to-br from-slate-800/50 to-slate-900/50 backdrop-blur-xl border border-blue-500/30 rounded-2xl p-6 shadow-2xl shadow-blue-500/20"},Mt={class:"flex items-center justify-between mb-6"},jt={class:"text-blue-300 text-sm"},Ot={key:0,class:"text-center py-12"},$t={key:1,class:"text-center py-12"},Bt={key:2,class:"overflow-x-auto"},Et={class:"w-full"},Wt={class:"py-4 px-4"},Nt={class:"text-white font-bold text-sm mb-1"},It={class:"text-xs text-blue-300"},Ut={key:0,class:"text-xs text-purple-300 mt-1"},Rt={class:"py-4 px-4"},Kt={key:0,class:"text-xs text-blue-300 mt-1"},qt={class:"py-4 px-4"},Pt={class:"space-y-1"},Xt={class:"text-xs text-blue-300"},Gt={class:"py-4 px-4"},Jt={key:0,class:"text-xs text-blue-300 mt-1"},Qt={class:"py-4 px-4 text-blue-200 text-sm"},Yt={key:0,class:"text-xs text-green-300"},Zt={class:"py-4 px-4"},te={class:"flex items-center space-x-2"},ee=["onClick"],se=["onClick"],le={key:0,class:"mt-6"},oe={class:"flex items-center justify-center space-x-2"},re=["innerHTML"],ae={key:1,class:"bg-slate-800/30 text-slate-500 cursor-not-allowed px-4 py-2 rounded-lg"},ne=["innerHTML"],ie={class:"mt-8 bg-gradient-to-br from-slate-800/50 to-slate-900/50 backdrop-blur-xl border border-green-500/30 rounded-2xl p-6 shadow-2xl shadow-green-500/20"},de={class:"flex flex-col lg:flex-row lg:items-center justify-between"},ce={class:"mb-4 lg:mb-0"},ue={class:"text-3xl lg:text-4xl font-bold text-white mb-2"},xe={class:"grid grid-cols-2 lg:grid-cols-3 gap-4"},ze={__name:"History",props:{transactions:{type:Object,default:()=>({data:[],links:[]})},stats:{type:Object,default:()=>({})},filters:{type:Object,default:()=>({})},typeOptions:{type:Object,default:()=>({})},statusOptions:{type:Object,default:()=>({})},balance:{type:[Number,String],default:0}},setup(i){const _=i,k=v(!1),p=v(_.filters.search||""),m=v(_.filters.type||""),f=v(_.filters.status||"");let z=null;const O=d=>(parseFloat(d)||0).toLocaleString("en-KE",{minimumFractionDigits:0,maximumFractionDigits:0}),$=d=>({"arrow-down-circle":V,"arrow-up-circle":tt,repeat:A,"credit-card":Q,"file-text":M,"dollar-sign":J})[d]||V,B=()=>{clearTimeout(z),z=setTimeout(()=>{h()},500)},h=()=>{k.value=!0;const d={};p.value&&(d.search=p.value),m.value&&(d.type=m.value),f.value&&(d.status=f.value),q.get("/wallet/history",d,{preserveState:!0,preserveScroll:!0,onFinish:()=>{k.value=!1}})},E=()=>{p.value="",m.value="",f.value="",h()},W=()=>{alert("Export feature would generate a CSV file with all transactions")},N=d=>{alert(`View transaction ${d} details`)},I=async d=>{if(confirm("Are you sure you want to cancel this pending transaction?"))try{alert("Transaction cancellation would be processed here")}catch(e){console.error("Cancel transaction error:",e),alert("Failed to cancel transaction")}};return U(()=>{console.log("History component mounted")}),(d,e)=>(l(),T(G,{title:"Transaction History"},{default:x(()=>[t("div",nt,[a(o(P),{size:16,class:"text-green-400"}),e[3]||(e[3]=t("span",null,"Wallet",-1)),e[4]||(e[4]=t("span",{class:"text-green-400"},"â€º",-1)),e[5]||(e[5]=t("span",{class:"text-green-300"},"Transaction History",-1))]),t("div",it,[t("div",dt,[e[32]||(e[32]=t("div",{class:"mb-8"},[t("h1",{class:"text-2xl lg:text-3xl font-bold text-white mb-2"},"Transaction History"),t("p",{class:"text-green-300"},"View all your wallet transactions and activities")],-1)),t("div",ct,[t("div",ut,[t("div",xt,[a(o(Y),{size:24,class:"text-green-400"}),e[6]||(e[6]=t("h3",{class:"text-lg font-bold text-white"},"Total Transactions",-1))]),t("p",bt,r(i.stats.total_transactions||0),1),e[7]||(e[7]=t("p",{class:"text-sm text-green-300"},"All transactions",-1))]),t("div",pt,[t("div",mt,[a(o(X),{size:24,class:"text-blue-400"}),e[8]||(e[8]=t("h3",{class:"text-lg font-bold text-white"},"Total Deposits",-1))]),t("p",ft,r(i.stats.total_deposits||0),1),e[9]||(e[9]=t("p",{class:"text-sm text-blue-300"},"Deposit transactions",-1))]),t("div",gt,[t("div",yt,[a(o(Z),{size:24,class:"text-purple-400"}),e[10]||(e[10]=t("h3",{class:"text-lg font-bold text-white"},"Total Withdrawals",-1))]),t("p",ht,r(i.stats.total_withdrawals||0),1),e[11]||(e[11]=t("p",{class:"text-sm text-purple-300"},"Withdrawal transactions",-1))]),t("div",vt,[t("div",wt,[a(o(A),{size:24,class:"text-yellow-400"}),e[12]||(e[12]=t("h3",{class:"text-lg font-bold text-white"},"Total Transfers",-1))]),t("p",_t,r(i.stats.total_transfers||0),1),e[13]||(e[13]=t("p",{class:"text-sm text-yellow-300"},"Transfer transactions",-1))])]),t("div",kt,[t("div",Tt,[t("div",Ct,[t("label",zt,[a(o(L),{size:16,class:"inline mr-2"}),e[14]||(e[14]=c(" Search Transactions "))]),t("div",St,[a(o(L),{size:18,class:"absolute left-4 top-1/2 transform -translate-y-1/2 text-blue-400"}),C(t("input",{"onUpdate:modelValue":e[0]||(e[0]=s=>p.value=s),onInput:B,placeholder:"Search by ID, description, or reference...",class:"w-full bg-black/30 border border-blue-500/30 text-white rounded-xl pl-12 pr-4 py-3 focus:outline-none focus:border-blue-400"},null,544),[[R,p.value]])])]),t("div",null,[t("label",Dt,[a(o(at),{size:16,class:"inline mr-2"}),e[15]||(e[15]=c(" Transaction Type "))]),C(t("select",{"onUpdate:modelValue":e[1]||(e[1]=s=>m.value=s),onChange:h,class:"w-full bg-black/30 border border-blue-500/30 text-white rounded-lg px-3 py-3 focus:outline-none focus:border-blue-400"},[(l(!0),n(g,null,w(i.typeOptions,(s,u)=>(l(),n("option",{key:u,value:u},r(s),9,Ft))),128))],544),[[S,m.value]])]),t("div",null,[t("label",Ht,[a(o(et),{size:16,class:"inline mr-2"}),e[16]||(e[16]=c(" Status "))]),C(t("select",{"onUpdate:modelValue":e[2]||(e[2]=s=>f.value=s),onChange:h,class:"w-full bg-black/30 border border-blue-500/30 text-white rounded-lg px-3 py-3 focus:outline-none focus:border-blue-400"},[(l(!0),n(g,null,w(i.statusOptions,(s,u)=>(l(),n("option",{key:u,value:u},r(s),9,Vt))),128))],544),[[S,f.value]])])]),t("div",At,[t("button",{onClick:E,class:"border border-red-500/30 text-red-400 hover:bg-red-500/20 rounded-lg px-4 py-2 text-sm transition-all duration-200 flex items-center space-x-1"},[a(o(H),{size:14}),e[17]||(e[17]=t("span",null,"Clear Filters",-1))]),t("button",{onClick:W,class:"border border-green-500/30 text-green-400 hover:bg-green-500/20 rounded-lg px-4 py-2 text-sm transition-all duration-200 flex items-center space-x-1"},[a(o(rt),{size:14}),e[18]||(e[18]=t("span",null,"Export CSV",-1))])])]),t("div",Lt,[t("div",Mt,[e[19]||(e[19]=t("h2",{class:"text-xl font-bold text-white"},"All Transactions",-1)),t("div",jt," Showing "+r(i.transactions.data.length)+" of "+r(i.transactions.total),1)]),k.value?(l(),n("div",Ot,[a(o(st),{class:"animate-spin mx-auto text-blue-400",size:48}),e[20]||(e[20]=t("p",{class:"text-blue-300 mt-4"},"Loading transactions...",-1))])):i.transactions.data.length===0?(l(),n("div",$t,[a(o(M),{size:48,class:"mx-auto text-blue-400 mb-3"}),e[22]||(e[22]=t("h4",{class:"text-lg font-bold text-white mb-2"},"No Transactions Found",-1)),e[23]||(e[23]=t("p",{class:"text-blue-300 mb-4"},"Try adjusting your filters or make your first transaction",-1)),a(o(y),{href:"/wallet/deposit",class:"bg-gradient-to-r from-green-600 to-emerald-600 hover:from-green-500 hover:to-emerald-500 text-white font-bold py-2 px-6 rounded-lg transition-all duration-200 inline-flex items-center space-x-2"},{default:x(()=>[a(o(lt),{size:16}),e[21]||(e[21]=t("span",null,"Make a Deposit",-1))]),_:1})])):(l(),n("div",Bt,[t("table",Et,[e[26]||(e[26]=t("thead",null,[t("tr",{class:"border-b border-blue-500/20"},[t("th",{class:"text-left py-3 px-4 text-blue-300 font-semibold"},"Transaction"),t("th",{class:"text-left py-3 px-4 text-blue-300 font-semibold"},"Type"),t("th",{class:"text-left py-3 px-4 text-blue-300 font-semibold"},"Amount"),t("th",{class:"text-left py-3 px-4 text-blue-300 font-semibold"},"Status"),t("th",{class:"text-left py-3 px-4 text-blue-300 font-semibold"},"Date"),t("th",{class:"text-left py-3 px-4 text-blue-300 font-semibold"},"Actions")])],-1)),t("tbody",null,[(l(!0),n(g,null,w(i.transactions.data,s=>(l(),n("tr",{key:s.id,class:"border-b border-blue-500/10 hover:bg-black/20 transition-colors"},[t("td",Wt,[t("div",null,[t("div",Nt,r(s.transaction_id),1),t("div",It,r(s.description),1),s.recipient_name?(l(),n("div",Ut," To: "+r(s.recipient_name),1)):b("",!0)])]),t("td",Rt,[t("span",{class:"inline-flex items-center px-3 py-1 rounded-full text-xs font-semibold",style:D(`background-color: ${s.type_badge.bgColor}; color: ${s.type_badge.color}`)},[(l(),T(K($(s.type_badge.icon)),{size:12,class:"mr-1"})),c(" "+r(s.type_badge.text),1)],4),s.payment_method?(l(),n("div",Kt,r(s.payment_method),1)):b("",!0)]),t("td",qt,[t("div",Pt,[t("div",{class:F(["font-bold text-sm",s.is_positive?"text-green-400":"text-red-400"])},r(s.is_positive?"+":"-")+r(s.net_amount),3),t("div",Xt," Fee: "+r(s.fee),1)])]),t("td",Gt,[t("span",{class:"inline-flex items-center px-3 py-1 rounded-full text-xs font-semibold",style:D(`background-color: ${s.status_badge.bgColor}; color: ${s.status_badge.color}`)},r(s.status_badge.text),5),s.payment_reference?(l(),n("div",Jt," Ref: "+r(s.payment_reference),1)):b("",!0)]),t("td",Qt,[c(r(s.created_at)+" ",1),s.completed_at?(l(),n("div",Yt," Completed: "+r(s.completed_at),1)):b("",!0)]),t("td",Zt,[t("div",te,[t("button",{onClick:u=>N(s.id),class:"text-blue-400 hover:text-blue-300 text-sm flex items-center space-x-1"},[a(o(ot),{size:14}),e[24]||(e[24]=t("span",null,"View",-1))],8,ee),s.status==="pending"?(l(),n("button",{key:0,onClick:u=>I(s.id),class:"text-red-400 hover:text-red-300 text-sm flex items-center space-x-1"},[a(o(H),{size:14}),e[25]||(e[25]=t("span",null,"Cancel",-1))],8,se)):b("",!0)])])]))),128))])]),i.transactions.links&&i.transactions.links.length>3?(l(),n("div",le,[t("div",oe,[(l(!0),n(g,null,w(i.transactions.links,s=>(l(),n(g,{key:s.label},[s.url?(l(),T(o(y),{key:0,href:s.url,class:F([{"bg-blue-600 text-white":s.active,"bg-slate-800/50 text-slate-300 hover:bg-slate-700/50":!s.active},"px-4 py-2 rounded-lg transition-all duration-200"]),"preserve-scroll":""},{default:x(()=>[t("span",{innerHTML:s.label},null,8,re)]),_:2},1032,["href","class"])):(l(),n("span",ae,[t("span",{innerHTML:s.label},null,8,ne)]))],64))),128))])])):b("",!0)]))]),t("div",ie,[e[31]||(e[31]=t("h3",{class:"text-lg font-bold text-white mb-4"},"Current Balance",-1)),t("div",de,[t("div",ce,[t("div",ue,"KES "+r(O(i.balance)),1),e[27]||(e[27]=t("p",{class:"text-green-300"},"Available for transactions",-1))]),t("div",xe,[a(o(y),{href:"/wallet/deposit",class:"bg-gradient-to-r from-green-600 to-emerald-600 hover:from-green-500 hover:to-emerald-500 text-white font-bold py-2 px-4 rounded-lg transition-all duration-200 text-center text-sm"},{default:x(()=>e[28]||(e[28]=[c(" Deposit ")])),_:1}),a(o(y),{href:"/wallet/withdraw",class:"bg-gradient-to-r from-blue-600 to-cyan-600 hover:from-blue-500 hover:to-cyan-500 text-white font-bold py-2 px-4 rounded-lg transition-all duration-200 text-center text-sm"},{default:x(()=>e[29]||(e[29]=[c(" Withdraw ")])),_:1}),a(o(y),{href:"/wallet",class:"bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-500 hover:to-pink-500 text-white font-bold py-2 px-4 rounded-lg transition-all duration-200 text-center text-sm lg:col-span-1"},{default:x(()=>e[30]||(e[30]=[c(" Back to Wallet ")])),_:1})])])])])])]),_:1}))}};export{ze as default};
