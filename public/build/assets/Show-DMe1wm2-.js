import{a as v,o as l,w as f,b as e,d as n,u as r,p as g,g as b,t as o,e as i,f as u,D as j,x as S,F as h,h as y,i as k}from"./app-KUgWEtTK.js";import{B as _,S as $,T as B,a as N,X as A,G as E,_ as F}from"./DashboardLayout-CBd3-9Qr.js";import{H as I}from"./house-Fzb6Wac9.js";import{M as R}from"./map-pin-HYno9JJy.js";import{C as J}from"./clock-D3FQRx8N.js";import{C as m}from"./circle-check-big-C1-uGsP2.js";import{C as L}from"./circle-alert-zp-rkyuY.js";import{c as T}from"./createLucideIcon-fdl4BT3X.js";import{L as U}from"./list-checks-CnWWmxkJ.js";import{B as D}from"./building-Do37q2rP.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./eye-CqiVPK0H.js";import"./menu-hSB8Arlo.js";/**
 * @license lucide-vue-next v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V=T("text-align-start",[["path",{d:"M21 5H3",key:"1fi0y6"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M17 19H3",key:"z6ezky"}]]),q={class:"bg-gradient-to-r from-blue-500/20 to-cyan-500/20 backdrop-blur-sm text-white px-4 lg:px-8 py-3 flex items-center space-x-2 text-sm border-b border-blue-500/20"},H={class:"text-blue-300"},M={class:"p-4 lg:p-8"},K={class:"max-w-7xl mx-auto"},P={class:"bg-gradient-to-br from-slate-800/50 to-slate-900/50 backdrop-blur-xl border border-blue-500/30 rounded-2xl p-6 lg:p-8 shadow-2xl shadow-blue-500/20 mb-8"},Y={class:"flex flex-col lg:flex-row lg:items-start justify-between gap-6"},G={class:"flex-1"},O={class:"flex flex-wrap items-center gap-3 mb-4"},W={class:"text-2xl lg:text-3xl font-bold text-white"},X={class:"flex flex-wrap gap-2"},Q={key:0,class:"bg-gradient-to-r from-yellow-600 to-orange-600 text-white px-3 py-1 rounded-full text-xs font-bold flex items-center"},Z={key:1,class:"bg-gradient-to-r from-green-600 to-emerald-600 text-white px-3 py-1 rounded-full text-xs font-bold flex items-center"},ee={class:"flex flex-wrap items-center gap-4 text-blue-300 mb-6"},te={class:"flex items-center"},se={class:"flex items-center"},oe={class:"flex items-center"},le={class:"flex items-center"},ne={class:"flex flex-wrap items-center justify-between gap-4"},re={class:"text-3xl font-bold text-green-400 mb-1"},ie={class:"text-sm text-blue-300"},ae={class:"text-right"},de={class:"text-lg font-bold text-white mb-1"},be={key:0},ce={key:1,class:"text-red-400"},xe={class:"text-sm text-blue-300"},ue={class:"lg:w-64 flex-shrink-0"},fe={class:"bg-slate-900/50 border border-blue-500/30 rounded-xl p-4 mb-4"},me={class:"space-y-3"},pe={key:0,class:"bg-gradient-to-r from-blue-600 to-cyan-600 text-white font-bold py-3 px-4 rounded-lg text-center"},ge={class:"flex items-center justify-center space-x-2"},he={class:"text-sm mt-1"},ye=["disabled"],we={key:2,class:"bg-gradient-to-r from-red-600 to-pink-600 text-white font-bold py-3 px-4 rounded-lg text-center"},ve={class:"flex items-center justify-center space-x-2"},je={key:0,class:"mt-3 p-2 bg-red-600/20 border border-red-500/30 rounded text-sm text-red-300"},ke={class:"grid grid-cols-2 gap-3 text-sm"},_e={class:"bg-slate-900/30 border border-blue-500/20 rounded p-2 text-center"},Ce={class:"text-xl font-bold text-white"},ze={class:"bg-slate-900/30 border border-blue-500/20 rounded p-2 text-center"},Se={class:"text-xl font-bold text-white"},$e={class:"grid grid-cols-1 lg:grid-cols-3 gap-8"},Be={class:"lg:col-span-2"},Ne={class:"bg-gradient-to-br from-slate-800/50 to-slate-900/50 backdrop-blur-xl border border-blue-500/30 rounded-2xl p-6 shadow-2xl shadow-blue-500/20 mb-6"},Ae={class:"text-xl font-bold text-white mb-4 flex items-center space-x-2"},Ee={class:"prose prose-invert max-w-none text-blue-200"},Fe={class:"whitespace-pre-line"},Ie={key:0,class:"bg-gradient-to-br from-slate-800/50 to-slate-900/50 backdrop-blur-xl border border-blue-500/30 rounded-2xl p-6 shadow-2xl shadow-blue-500/20 mb-6"},Re={class:"text-xl font-bold text-white mb-4 flex items-center space-x-2"},Je={class:"space-y-2 text-blue-200"},Le={key:1,class:"bg-gradient-to-br from-slate-800/50 to-slate-900/50 backdrop-blur-xl border border-green-500/30 rounded-2xl p-6 shadow-2xl shadow-green-500/20"},Te={class:"text-xl font-bold text-white mb-4 flex items-center space-x-2"},Ue={class:"space-y-2 text-blue-200"},De={class:"lg:col-span-1"},Ve={class:"bg-gradient-to-br from-slate-800/50 to-slate-900/50 backdrop-blur-xl border border-purple-500/30 rounded-2xl p-6 shadow-2xl shadow-purple-500/20 mb-6"},qe={class:"text-lg font-bold text-white mb-4 flex items-center space-x-2"},He={class:"space-y-3"},Me={class:"flex items-center justify-between"},Ke={class:"font-bold text-white"},Pe={class:"flex items-center justify-between"},Ye={class:"font-bold text-white"},Ge={class:"flex items-center justify-between"},Oe={class:"font-bold text-white"},We={class:"flex items-center justify-between"},Xe={class:"font-bold text-white"},Qe={class:"flex items-center justify-between"},Ze={class:"font-bold text-white"},et={class:"bg-gradient-to-br from-slate-800/50 to-slate-900/50 backdrop-blur-xl border border-blue-500/30 rounded-2xl p-6 shadow-2xl shadow-blue-500/20 mb-6"},tt={key:0,class:"text-center py-4"},st={key:1,class:"space-y-3"},ot={class:"font-bold text-white text-sm mb-1 group-hover:text-blue-300"},lt={class:"text-xs text-blue-300 mb-1"},nt={class:"flex items-center justify-between text-xs"},rt={class:"text-green-400 font-bold"},it={class:"bg-gradient-to-br from-slate-800/50 to-slate-900/50 backdrop-blur-xl border border-green-500/30 rounded-2xl p-6 shadow-2xl shadow-green-500/20"},at={class:"flex items-center space-x-2"},jt={__name:"Show",props:{job:{type:Object,required:!0},relatedJobs:{type:Array,default:()=>[]},userBalance:{type:[Number,String],default:0}},setup(s){const x=s,w=d=>({blue:"#3b82f6",green:"#10b981",red:"#ef4444",purple:"#8b5cf6",orange:"#f97316",cyan:"#06b6d4",gray:"#6b7280",indigo:"#6366f1"})[d]||"#3b82f6",C=d=>_,z=async()=>{if(parseFloat(x.userBalance)<1e3){alert("Insufficient balance. You need at least KES 1,000 to apply for this job.");return}if(confirm(`Are you sure you want to apply for "${x.job.title}"? KES 1,000 will be deducted from your balance.`))try{await k.post(`/jobs/${x.job.id}/apply`,{},{preserveScroll:!0,onSuccess:d=>{const t=d?.props?.flash||{};t.success?(alert(t.success),k.visit("/jobs/my-jobs")):t.error&&alert(t.error)},onError:d=>{console.error("Error applying for job:",d),alert("Failed to apply for job. Please try again.")}})}catch(d){console.error("Error applying for job:",d),alert("An unexpected error occurred.")}},p=d=>{const t=window.location.href;x.job.title;const a=`Check out this job opportunity: ${x.job.title}`,c={facebook:`https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(t)}`,twitter:`https://twitter.com/intent/tweet?text=${encodeURIComponent(a)}&url=${encodeURIComponent(t)}`,linkedin:`https://www.linkedin.com/sharing/share-offsite/?url=${encodeURIComponent(t)}`};c[d]&&window.open(c[d],"_blank","width=600,height=400")};return(d,t)=>(l(),v(F,{title:s.job.title},{default:f(()=>[e("div",q,[n(r(_),{size:16,class:"text-blue-400"}),n(r(g),{href:"/jobs",class:"hover:text-blue-300"},{default:f(()=>t[3]||(t[3]=[b("Jobs")])),_:1}),t[4]||(t[4]=e("span",{class:"text-blue-400"},"›",-1)),e("span",H,o(s.job.title),1)]),e("div",M,[e("div",K,[e("div",P,[e("div",Y,[e("div",G,[e("div",O,[e("h1",W,o(s.job.title),1),e("div",X,[s.job.is_featured?(l(),i("span",Q,[n(r($),{size:10,class:"mr-1"}),t[5]||(t[5]=b(" Featured "))])):u("",!0),s.job.is_remote?(l(),i("span",Z,[n(r(I),{size:10,class:"mr-1"}),t[6]||(t[6]=b(" Remote "))])):u("",!0),e("span",{class:"px-3 py-1 rounded-full text-xs font-bold",style:j(`background-color: ${w(s.job.category.color)}20; color: ${w(s.job.category.color)}`)},[(l(),v(S(C(s.job.category.icon)),{size:10,class:"mr-1 inline"})),b(" "+o(s.job.category.name),1)],4)])]),e("div",ee,[e("span",te,[n(r(R),{size:16,class:"mr-2"}),b(" "+o(s.job.location),1)]),e("span",se,[n(r(J),{size:16,class:"mr-2"}),b(" "+o(s.job.job_type),1)]),e("span",oe,[n(r(B),{size:16,class:"mr-2"}),b(" "+o(s.job.experience_level),1)]),e("span",le,[n(r(N),{size:16,class:"mr-2"}),b(" "+o(s.job.vacancies)+" vacancy"+o(s.job.vacancies!==1?"ies":""),1)])]),e("div",ne,[e("div",null,[e("div",re,o(s.job.salary),1),e("p",ie,"per "+o(s.job.salary_type),1)]),e("div",ae,[e("div",de,[s.job.days_remaining>0?(l(),i("span",be,o(s.job.days_remaining)+" day"+o(s.job.days_remaining!==1?"s":"")+" left ",1)):(l(),i("span",ce," Closed "))]),e("p",xe,"Deadline: "+o(s.job.application_deadline),1)])])]),e("div",ue,[e("div",fe,[t[14]||(t[14]=e("div",{class:"flex items-center justify-between mb-3"},[e("span",{class:"text-sm text-blue-300"},"Application Fee"),e("span",{class:"text-lg font-bold text-green-400"},"KES 1,000")],-1)),e("div",me,[s.job.has_applied?(l(),i("div",pe,[e("div",ge,[n(r(m),{size:20}),t[7]||(t[7]=e("span",null,"Applied",-1))]),e("p",he,[t[8]||(t[8]=b("Status: ")),e("span",{style:j(`color: ${s.job.application_color}`)},o(s.job.application_status),5)])])):s.job.can_apply?(l(),i("button",{key:1,onClick:z,disabled:parseFloat(s.userBalance)<1e3,class:"bg-gradient-to-r from-green-600 to-emerald-600 hover:from-green-500 hover:to-emerald-500 disabled:from-slate-600 disabled:to-slate-600 disabled:cursor-not-allowed text-white font-bold py-3 px-4 rounded-lg w-full transition-all duration-200 flex items-center justify-center space-x-2"},[n(r(m),{size:20}),t[9]||(t[9]=e("span",null,"Apply Now",-1))],8,ye)):(l(),i("div",we,[e("div",ve,[n(r(A),{size:20}),t[10]||(t[10]=e("span",null,"Not Available",-1))]),t[11]||(t[11]=e("p",{class:"text-sm mt-1"},"No vacancies left",-1))]))]),!s.job.has_applied&&parseFloat(s.userBalance)<1e3?(l(),i("div",je,[n(r(L),{size:14,class:"inline mr-1"}),t[13]||(t[13]=b(" You need at least KES 1,000 to apply ")),n(r(g),{href:"/wallet/deposit",class:"text-red-400 hover:text-red-300 block mt-1"},{default:f(()=>t[12]||(t[12]=[b(" Add funds → ")])),_:1})])):u("",!0)]),e("div",ke,[e("div",_e,[e("div",Ce,o(s.job.view_count),1),t[15]||(t[15]=e("div",{class:"text-blue-300"},"Views",-1))]),e("div",ze,[e("div",Se,o(s.job.application_count),1),t[16]||(t[16]=e("div",{class:"text-blue-300"},"Applications",-1))])])])])]),e("div",$e,[e("div",Be,[e("div",Ne,[e("h3",Ae,[n(r(V),{size:20,class:"text-blue-400"}),t[17]||(t[17]=e("span",null,"Job Description",-1))]),e("div",Ee,[e("p",Fe,o(s.job.description),1)])]),s.job.requirements&&s.job.requirements.length>0?(l(),i("div",Ie,[e("h3",Re,[n(r(U),{size:20,class:"text-blue-400"}),t[18]||(t[18]=e("span",null,"Requirements",-1))]),e("ul",Je,[(l(!0),i(h,null,y(s.job.requirements,(a,c)=>(l(),i("li",{key:c,class:"flex items-start space-x-2"},[n(r(m),{size:16,class:"text-green-400 flex-shrink-0 mt-0.5"}),e("span",null,o(a),1)]))),128))])])):u("",!0),s.job.benefits&&s.job.benefits.length>0?(l(),i("div",Le,[e("h3",Te,[n(r(E),{size:20,class:"text-green-400"}),t[19]||(t[19]=e("span",null,"Benefits",-1))]),e("ul",Ue,[(l(!0),i(h,null,y(s.job.benefits,(a,c)=>(l(),i("li",{key:c,class:"flex items-start space-x-2"},[n(r(m),{size:16,class:"text-green-400 flex-shrink-0 mt-0.5"}),e("span",null,o(a),1)]))),128))])])):u("",!0)]),e("div",De,[e("div",Ve,[e("h3",qe,[n(r(D),{size:18,class:"text-purple-400"}),t[20]||(t[20]=e("span",null,"Job Details",-1))]),e("div",He,[e("div",Me,[t[21]||(t[21]=e("span",{class:"text-sm text-purple-300"},"Experience Level",-1)),e("span",Ke,o(s.job.experience_level),1)]),e("div",Pe,[t[22]||(t[22]=e("span",{class:"text-sm text-purple-300"},"Education Level",-1)),e("span",Ye,o(s.job.education_level||"Not Specified"),1)]),e("div",Ge,[t[23]||(t[23]=e("span",{class:"text-sm text-purple-300"},"Job Type",-1)),e("span",Oe,o(s.job.job_type),1)]),e("div",We,[t[24]||(t[24]=e("span",{class:"text-sm text-purple-300"},"Remote Work",-1)),e("span",Xe,o(s.job.is_remote?"Yes":"No"),1)]),e("div",Qe,[t[25]||(t[25]=e("span",{class:"text-sm text-purple-300"},"Posted On",-1)),e("span",Ze,o(s.job.created_at),1)])])]),e("div",et,[t[28]||(t[28]=e("h3",{class:"text-lg font-bold text-white mb-4"},"Related Jobs",-1)),s.relatedJobs.length===0?(l(),i("div",tt,t[26]||(t[26]=[e("p",{class:"text-blue-300"},"No related jobs found",-1)]))):(l(),i("div",st,[(l(!0),i(h,null,y(s.relatedJobs,a=>(l(),i("div",{key:a.id,class:"border border-blue-500/20 rounded-lg p-3 hover:border-blue-500 transition-all duration-200 group"},[n(r(g),{href:`/jobs/${a.id}`,class:"block"},{default:f(()=>[e("h4",ot,o(a.title),1),e("p",lt,o(a.category_name),1),e("div",nt,[e("span",rt,o(a.salary),1),t[27]||(t[27]=e("span",{class:"text-blue-400 group-hover:text-blue-300"},"View →",-1))])]),_:2},1032,["href"])]))),128))]))]),e("div",it,[t[29]||(t[29]=e("h3",{class:"text-lg font-bold text-white mb-4"},"Share This Job",-1)),e("div",at,[e("button",{onClick:t[0]||(t[0]=a=>p("facebook")),class:"flex-1 bg-blue-600 hover:bg-blue-500 text-white font-bold py-2 rounded-lg transition-all duration-200 text-sm"}," Facebook "),e("button",{onClick:t[1]||(t[1]=a=>p("twitter")),class:"flex-1 bg-sky-600 hover:bg-sky-500 text-white font-bold py-2 rounded-lg transition-all duration-200 text-sm"}," Twitter "),e("button",{onClick:t[2]||(t[2]=a=>p("linkedin")),class:"flex-1 bg-blue-700 hover:bg-blue-600 text-white font-bold py-2 rounded-lg transition-all duration-200 text-sm"}," LinkedIn ")])])])])])])]),_:1},8,["title"]))}};export{jt as default};
