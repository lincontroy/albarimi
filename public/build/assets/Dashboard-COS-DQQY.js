import{c as m,r as B,y as T,z as C,a as D,o as l,w as _,b as t,d as c,u,t as o,n as g,T as K,e as r,F as h,h as v,f as S}from"./app-CySw4lLa.js";import{U as z,T as O,a as U,_ as V}from"./DashboardLayout-BwZdqBzn.js";import{B as I}from"./briefcase-CjKk8aB_.js";import{A as N}from"./award-UlOBdtaB.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./createLucideIcon-BJb2igB9.js";import"./eye-D21h4GYO.js";import"./menu-2oA-EL44.js";const $={class:"bg-gradient-to-r from-purple-500/20 to-pink-500/20 backdrop-blur-sm text-white px-4 lg:px-8 py-3 flex items-center space-x-2 text-sm border-b border-purple-500/20"},q={class:"p-4 lg:p-8"},W={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6"},F={class:"bg-gradient-to-br from-purple-600/40 to-pink-600/40 backdrop-blur-xl border border-purple-500/30 text-white rounded-2xl p-4 shadow-2xl shadow-purple-500/20"},M={class:"flex items-center justify-between"},P={class:"text-2xl font-bold"},G={class:"bg-gradient-to-br from-emerald-600/40 to-teal-600/40 backdrop-blur-xl border border-emerald-500/30 text-white rounded-2xl p-4 shadow-2xl shadow-emerald-500/20"},J={class:"flex items-center justify-between"},Q={class:"text-2xl font-bold"},Y={class:"bg-gradient-to-br from-cyan-600/40 to-blue-600/40 backdrop-blur-xl border border-cyan-500/30 text-white rounded-2xl p-4 shadow-2xl shadow-cyan-500/20"},H={class:"flex items-center justify-between"},X={class:"text-2xl font-bold"},Z={class:"bg-gradient-to-br from-amber-600/40 to-orange-600/40 backdrop-blur-xl border border-amber-500/30 text-white rounded-2xl p-4 shadow-2xl shadow-amber-500/20"},tt={class:"flex items-center justify-between"},et={class:"text-2xl font-bold"},st={class:"grid grid-cols-1 lg:grid-cols-3 gap-6"},ot={class:"bg-gradient-to-br from-purple-600/40 to-pink-600/40 backdrop-blur-xl border border-purple-500/30 text-white rounded-2xl p-3 shadow-2xl shadow-purple-500/20"},lt={class:"text-xl font-bold"},at={class:"flex items-center mt-1.5 text-xs"},rt={class:"text-purple-300"},it={class:"mt-3 flex items-center space-x-2"},nt={class:"text-sm"},dt={class:"lg:col-span-2 bg-slate-800/40 backdrop-blur-xl border border-purple-500/30 rounded-2xl p-3 shadow-2xl shadow-purple-500/20"},ct={class:"flex items-center justify-between mb-2"},xt={class:"text-xs text-purple-400 bg-purple-500/20 px-2 py-1 rounded"},bt={class:"relative h-28 overflow-hidden"},ut={class:"flex items-center space-x-2 mb-1.5"},pt={class:"font-bold text-purple-300"},ft={class:"flex text-yellow-400"},mt={class:"text-gray-300 text-sm leading-relaxed line-clamp-2"},gt={class:"text-xs text-purple-400 mt-1.5 text-right"},ht={class:"flex justify-center space-x-2 mt-2"},vt=["onClick"],wt={class:"bg-gradient-to-br from-cyan-600/40 to-blue-600/40 backdrop-blur-xl border border-cyan-500/30 text-white rounded-2xl p-3 shadow-2xl shadow-cyan-500/20"},yt={class:"text-4xl font-bold"},kt={class:"bg-gradient-to-br from-violet-600/40 to-fuchsia-600/40 backdrop-blur-xl border border-violet-500/30 text-white rounded-2xl p-3 shadow-2xl shadow-violet-500/20"},_t={class:"text-4xl font-bold"},St={class:"bg-gradient-to-br from-amber-600/40 to-orange-600/40 backdrop-blur-xl border border-amber-500/30 text-white rounded-2xl p-3 shadow-2xl shadow-amber-500/20"},jt={class:"text-4xl font-bold"},At={class:"bg-gradient-to-br from-pink-600/40 to-rose-600/40 backdrop-blur-xl border border-pink-500/30 text-white rounded-2xl p-3 shadow-2xl shadow-pink-500/20"},Rt={class:"text-2xl font-bold"},Lt={class:"text-sm text-pink-300 mt-1"},Et={key:0,class:"text-xs text-pink-400 mt-1"},Bt={class:"bg-gradient-to-br from-emerald-600/40 to-green-600/40 backdrop-blur-xl border border-emerald-500/30 text-white rounded-2xl p-3 shadow-2xl shadow-emerald-500/20"},Tt={class:"text-2xl font-bold"},Ct={key:0,class:"text-xs text-emerald-400 mt-1"},Dt={class:"bg-gradient-to-br from-indigo-600/40 to-purple-600/40 backdrop-blur-xl border border-indigo-500/30 text-white rounded-2xl p-3 shadow-2xl shadow-indigo-500/20"},Kt={class:"text-4xl font-bold"},zt={class:"bg-gradient-to-br from-slate-700/40 to-slate-900/40 backdrop-blur-xl border border-slate-500/30 text-white rounded-2xl p-3 shadow-2xl shadow-slate-500/20"},Ot={key:0,class:"space-y-2"},Ut={class:"text-sm"},Vt={class:"text-xs text-slate-400"},It={class:"text-green-400 font-bold"},Nt={key:1,class:"text-center py-4"},$t={class:"bg-gradient-to-br from-sky-600/40 to-blue-600/40 backdrop-blur-xl border border-sky-500/30 text-white rounded-2xl p-3 shadow-2xl shadow-sky-500/20"},qt={class:"space-y-1.5"},Wt={class:"flex justify-between items-center"},Ft={class:"text-sky-300"},Mt={class:"flex justify-between items-center"},Pt={class:"text-sky-300"},Gt={class:"flex justify-between items-center"},Jt={class:"text-sky-300"},Qt={class:"flex justify-between items-center"},Yt={class:"text-sky-300"},Ht={class:"bg-gradient-to-br from-fuchsia-600/40 to-purple-600/40 backdrop-blur-xl border border-fuchsia-500/30 text-white rounded-2xl p-3 shadow-2xl shadow-fuchsia-500/20"},Xt={class:"space-y-1.5"},Zt={class:"flex justify-between items-center"},te={class:"text-fuchsia-300"},ee={class:"flex justify-between items-center"},se={class:"text-green-400"},oe={class:"flex justify-between items-center"},le={class:"text-red-400"},ae={class:"mt-3"},re={class:"flex items-center space-x-2 mt-1"},ie=["value"],ge={__name:"Dashboard",props:{user:Object,balances:Object,package:Object,certification:Object,recent_withdrawals:Array,reviews:Array,stats:Object,quick_stats:Object},setup(s){const p=s,x=m(()=>p.user||{}),j=m(()=>p.balances?.total_earnings||0),i=B(0);let f;const A=()=>{i.value=(i.value+1)%p.reviews.length},R=a=>{y(),i.value=a,w()},w=()=>{p.reviews?.length>1&&(f=setInterval(A,5e3))},y=()=>{f&&clearInterval(f)},d=a=>a?new Date(a).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}):"N/A",L=a=>d(a),k=m(()=>`${window.location.origin}/register?ref=${x.value.id}`),E=async()=>{try{await navigator.clipboard.writeText(k.value),alert("Referral link copied to clipboard!")}catch(a){console.error("Failed to copy: ",a)}};return T(()=>{w()}),C(()=>{y()}),(a,e)=>(l(),D(V,{title:"Dashboard"},{default:_(()=>[t("div",$,[c(u(z),{size:16,class:"text-purple-400"}),e[0]||(e[0]=t("span",null,"Account",-1)),e[1]||(e[1]=t("span",{class:"text-purple-400"},"›",-1)),e[2]||(e[2]=t("span",{class:"text-purple-300"},"Dashboard",-1))]),t("div",q,[t("div",W,[t("div",F,[t("div",M,[t("div",null,[e[3]||(e[3]=t("p",{class:"text-sm text-purple-200"},"Total Earnings",-1)),t("p",P,"KES "+o(j.value.toLocaleString()),1)]),c(u(O),{size:24,class:"text-purple-300"})])]),t("div",G,[t("div",J,[t("div",null,[e[4]||(e[4]=t("p",{class:"text-sm text-emerald-200"},"Active Referrals",-1)),t("p",Q,o(s.stats.active_referrals),1)]),c(u(U),{size:24,class:"text-emerald-300"})])]),t("div",Y,[t("div",H,[t("div",null,[e[5]||(e[5]=t("p",{class:"text-sm text-cyan-200"},"Job Applications",-1)),t("p",X,o(s.stats.job_applications),1)]),c(u(I),{size:24,class:"text-cyan-300"})])]),t("div",Z,[t("div",tt,[t("div",null,[e[6]||(e[6]=t("p",{class:"text-sm text-amber-200"},"Endorsements",-1)),t("p",et,o(s.stats.active_endorsements),1)]),c(u(N),{size:24,class:"text-amber-300"})])])]),t("div",st,[t("div",ot,[t("h2",lt,"Welcome Back "+o(a.$page.props.auth.user.name.split(" ")[0])+"!",1),e[8]||(e[8]=t("p",{class:"text-purple-200 text-sm mt-0.5"},"Good to see you again!",-1)),t("div",at,[e[7]||(e[7]=t("div",{class:"w-2 h-2 bg-green-500 rounded-full mr-2"},null,-1)),t("span",rt,"Last login: "+o(d(x.value.last_active_at)),1)]),t("div",it,[t("div",{class:g(["w-2 h-2 rounded-full",x.value.is_agent?"bg-green-500":"bg-yellow-500"])},null,2),t("span",nt,o(x.value.is_agent?"Verified Agent":"Regular Member"),1)])]),t("div",dt,[t("div",ct,[e[9]||(e[9]=t("h3",{class:"text-lg font-bold text-purple-300"},"Recent Reviews",-1)),t("span",xt,o(s.reviews.length)+" Reviews",1)]),t("div",bt,[c(K,{name:"fade",mode:"out-in"},{default:_(()=>[(l(),r("div",{key:i.value,class:"w-full bg-slate-700/50 backdrop-blur-sm p-2.5 rounded-xl border border-purple-500/20"},[t("div",ut,[t("span",pt,o(s.reviews[i.value].user),1),t("div",ft,[(l(),r(h,null,v(5,n=>t("span",{key:n},o(n<=s.reviews[i.value].rating?"★":"☆"),1)),64))])]),t("p",mt,o(s.reviews[i.value].comment),1),t("p",gt,o(L(s.reviews[i.value].date)),1)]))]),_:1})]),t("div",ht,[(l(!0),r(h,null,v(s.reviews,(n,b)=>(l(),r("button",{key:b,onClick:ne=>R(b),class:g(["w-2 h-2 rounded-full transition-all duration-300",i.value===b?"bg-purple-500 w-4":"bg-purple-500/30"])},null,10,vt))),128))])]),t("div",wt,[e[10]||(e[10]=t("h3",{class:"text-lg font-bold mb-1"},"WhatsApp Balance",-1)),t("p",yt,"KES. "+o(s.balances.whatsapp_balance.toLocaleString()),1),e[11]||(e[11]=t("p",{class:"text-xs text-cyan-300 mt-1"},"Available for withdrawal",-1))]),t("div",kt,[e[12]||(e[12]=t("h3",{class:"text-lg font-bold mb-1"},"Deposit Balance",-1)),t("p",_t,"KES. "+o(s.balances.deposit_balance.toLocaleString()),1),e[13]||(e[13]=t("p",{class:"text-xs text-violet-300 mt-1"},"Ready for investment",-1))]),t("div",St,[e[14]||(e[14]=t("h3",{class:"text-lg font-bold mb-1"},"Cashback Bonus",-1)),t("p",jt,"KES. "+o(s.balances.cashback_bonus.toLocaleString()),1),e[15]||(e[15]=t("p",{class:"text-xs text-amber-300 mt-1"},"Available for use",-1))]),t("div",At,[e[16]||(e[16]=t("h3",{class:"text-lg font-bold mb-1"},"Current Package",-1)),t("p",Rt,o(s.package.current),1),t("p",Lt,"Status: "+o(s.package.status),1),s.package.purchased_at?(l(),r("p",Et," Purchased: "+o(d(s.package.purchased_at)),1)):S("",!0)]),t("div",Bt,[e[17]||(e[17]=t("h3",{class:"text-lg font-bold mb-1"},"Verification Status",-1)),t("p",Tt,o(s.certification.status),1),t("p",{class:g(["text-sm mt-1",s.certification.verified?"text-emerald-300":"text-yellow-300"])},o(s.certification.verified?"Account verified":"Verification pending"),3),s.certification.expires_at?(l(),r("p",Ct," Expires: "+o(d(s.certification.expires_at)),1)):S("",!0)]),t("div",Dt,[e[18]||(e[18]=t("h3",{class:"text-lg font-bold mb-1"},"Total Withdrawn",-1)),t("p",Kt,"KES. "+o(s.balances.total_withdrawn.toLocaleString()),1),e[19]||(e[19]=t("p",{class:"text-xs text-indigo-300 mt-1"},"Lifetime withdrawals",-1))]),t("div",zt,[e[21]||(e[21]=t("h3",{class:"text-lg font-bold mb-2 text-slate-300"},"Recent Activity",-1)),s.recent_withdrawals.length>0?(l(),r("div",Ot,[(l(!0),r(h,null,v(s.recent_withdrawals,(n,b)=>(l(),r("div",{key:b,class:"flex items-center justify-between"},[t("div",null,[t("p",Ut,o(n.type)+" Withdrawal",1),t("p",Vt,o(d(n.date)),1)]),t("span",It,"+KES "+o(n.amount.toLocaleString()),1)]))),128))])):(l(),r("div",Nt,e[20]||(e[20]=[t("p",{class:"text-slate-400"},"No recent activity",-1)])))]),t("div",$t,[e[26]||(e[26]=t("h3",{class:"text-lg font-bold mb-2 text-sky-300"},"Quick Stats",-1)),t("div",qt,[t("div",Wt,[e[22]||(e[22]=t("span",{class:"text-sky-200"},"Monthly Salary:",-1)),t("span",Ft,"KES "+o(s.quick_stats.monthly_income?.toLocaleString()||"0"),1)]),t("div",Mt,[e[23]||(e[23]=t("span",{class:"text-sky-200"},"Bonus Earned:",-1)),t("span",Pt,"KES "+o(s.quick_stats.bonus_earned?.toLocaleString()||"0"),1)]),t("div",Gt,[e[24]||(e[24]=t("span",{class:"text-sky-200"},"Total Invested:",-1)),t("span",Jt,"KES "+o(s.quick_stats.total_invested?.toLocaleString()||"0"),1)]),t("div",Qt,[e[25]||(e[25]=t("span",{class:"text-sky-200"},"Agent Since:",-1)),t("span",Yt,o(d(x.value.agent_since)),1)])])]),t("div",Ht,[e[31]||(e[31]=t("h3",{class:"text-lg font-bold mb-2"},"Referral Stats",-1)),t("div",Xt,[t("div",Zt,[e[27]||(e[27]=t("span",{class:"text-fuchsia-200"},"Total Referrals:",-1)),t("span",te,o(s.stats.total_referrals),1)]),t("div",ee,[e[28]||(e[28]=t("span",{class:"text-fuchsia-200"},"Active Referrals:",-1)),t("span",se,o(s.stats.active_referrals),1)]),t("div",oe,[e[29]||(e[29]=t("span",{class:"text-fuchsia-200"},"Inactive Referrals:",-1)),t("span",le,o(s.stats.total_referrals-s.stats.active_referrals),1)]),t("div",ae,[e[30]||(e[30]=t("p",{class:"text-sm text-fuchsia-300"},"Your Referral Link:",-1)),t("div",re,[t("input",{type:"text",value:k.value,readonly:"",class:"flex-1 bg-fuchsia-500/20 border border-fuchsia-500/30 rounded-lg px-3 py-1 text-sm text-fuchsia-300"},null,8,ie),t("button",{onClick:E,class:"bg-fuchsia-500 hover:bg-fuchsia-600 px-3 py-1 rounded-lg text-sm transition-colors"}," Copy ")])])])])])])]),_:1}))}};export{ge as default};
