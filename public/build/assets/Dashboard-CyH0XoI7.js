import{c as m,r as T,y as C,z as D,A as K,a as V,o as l,w as g,b as t,d,u,t as o,n as h,g as z,T as N,e as r,F as v,h as w,f as S}from"./app-KUgWEtTK.js";import{U as O,T as U,a as I,B as $,_ as q}from"./DashboardLayout-CBd3-9Qr.js";import{A as W}from"./award-D8ycY2eO.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./createLucideIcon-fdl4BT3X.js";import"./eye-CqiVPK0H.js";import"./menu-hSB8Arlo.js";const F={class:"bg-gradient-to-r from-purple-500/20 to-pink-500/20 backdrop-blur-sm text-white px-4 lg:px-8 py-3 flex items-center space-x-2 text-sm border-b border-purple-500/20"},M={class:"p-4 lg:p-8"},P={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6"},G={class:"bg-gradient-to-br from-purple-600/40 to-pink-600/40 backdrop-blur-xl border border-purple-500/30 text-white rounded-2xl p-4 shadow-2xl shadow-purple-500/20"},J={class:"flex items-center justify-between"},Q={class:"text-2xl font-bold"},Y={class:"bg-gradient-to-br from-emerald-600/40 to-teal-600/40 backdrop-blur-xl border border-emerald-500/30 text-white rounded-2xl p-4 shadow-2xl shadow-emerald-500/20"},H={class:"flex items-center justify-between"},X={class:"text-2xl font-bold"},Z={class:"bg-gradient-to-br from-cyan-600/40 to-blue-600/40 backdrop-blur-xl border border-cyan-500/30 text-white rounded-2xl p-4 shadow-2xl shadow-cyan-500/20"},tt={class:"flex items-center justify-between"},et={class:"text-2xl font-bold"},st={class:"bg-gradient-to-br from-amber-600/40 to-orange-600/40 backdrop-blur-xl border border-amber-500/30 text-white rounded-2xl p-4 shadow-2xl shadow-amber-500/20"},ot={class:"flex items-center justify-between"},lt={class:"text-2xl font-bold"},at={class:"grid grid-cols-1 lg:grid-cols-3 gap-6"},rt={class:"bg-gradient-to-br from-purple-600/40 to-pink-600/40 backdrop-blur-xl border border-purple-500/30 text-white rounded-2xl p-3 shadow-2xl shadow-purple-500/20"},it={class:"text-xl font-bold"},nt={class:"flex items-center mt-1.5 text-xs"},dt={class:"text-purple-300"},ct={class:"mt-3 flex items-center space-x-2"},xt={class:"text-sm"},bt={class:"lg:col-span-2 bg-slate-800/40 backdrop-blur-xl border border-purple-500/30 rounded-2xl p-3 shadow-2xl shadow-purple-500/20"},ut={class:"flex items-center justify-between mb-2"},pt={class:"relative h-28 overflow-hidden"},ft={class:"flex items-center space-x-2 mb-1.5"},mt={class:"font-bold text-purple-300"},gt={class:"flex text-yellow-400"},ht={class:"text-gray-300 text-sm leading-relaxed line-clamp-2"},vt={class:"text-xs text-purple-400 mt-1.5 text-right"},wt={class:"flex justify-center space-x-2 mt-2"},yt=["onClick"],kt={class:"bg-gradient-to-br from-cyan-600/40 to-blue-600/40 backdrop-blur-xl border border-cyan-500/30 text-white rounded-2xl p-3 shadow-2xl shadow-cyan-500/20"},_t={class:"text-4xl font-bold"},St={class:"bg-gradient-to-br from-violet-600/40 to-fuchsia-600/40 backdrop-blur-xl border border-violet-500/30 text-white rounded-2xl p-3 shadow-2xl shadow-violet-500/20"},jt={class:"text-4xl font-bold"},At={class:"bg-gradient-to-br from-amber-600/40 to-orange-600/40 backdrop-blur-xl border border-amber-500/30 text-white rounded-2xl p-3 shadow-2xl shadow-amber-500/20"},Lt={class:"text-4xl font-bold"},Rt={class:"bg-gradient-to-br from-pink-600/40 to-rose-600/40 backdrop-blur-xl border border-pink-500/30 text-white rounded-2xl p-3 shadow-2xl shadow-pink-500/20"},Et={class:"text-2xl font-bold"},Bt={class:"text-sm text-pink-300 mt-1"},Tt={key:0,class:"text-xs text-pink-400 mt-1"},Ct={class:"bg-gradient-to-br from-emerald-600/40 to-green-600/40 backdrop-blur-xl border border-emerald-500/30 text-white rounded-2xl p-3 shadow-2xl shadow-emerald-500/20"},Dt={class:"text-2xl font-bold"},Kt={key:0,class:"text-xs text-emerald-400 mt-1"},Vt={class:"bg-gradient-to-br from-indigo-600/40 to-purple-600/40 backdrop-blur-xl border border-indigo-500/30 text-white rounded-2xl p-3 shadow-2xl shadow-indigo-500/20"},zt={class:"text-4xl font-bold"},Nt={class:"bg-gradient-to-br from-slate-700/40 to-slate-900/40 backdrop-blur-xl border border-slate-500/30 text-white rounded-2xl p-3 shadow-2xl shadow-slate-500/20"},Ot={key:0,class:"space-y-2"},Ut={class:"text-sm"},It={class:"text-xs text-slate-400"},$t={class:"text-green-400 font-bold"},qt={key:1,class:"text-center py-4"},Wt={class:"bg-gradient-to-br from-sky-600/40 to-blue-600/40 backdrop-blur-xl border border-sky-500/30 text-white rounded-2xl p-3 shadow-2xl shadow-sky-500/20"},Ft={class:"space-y-1.5"},Mt={class:"flex justify-between items-center"},Pt={class:"text-sky-300"},Gt={class:"flex justify-between items-center"},Jt={class:"text-sky-300"},Qt={class:"flex justify-between items-center"},Yt={class:"text-sky-300"},Ht={class:"flex justify-between items-center"},Xt={class:"text-sky-300"},Zt={class:"bg-gradient-to-br from-fuchsia-600/40 to-purple-600/40 backdrop-blur-xl border border-fuchsia-500/30 text-white rounded-2xl p-3 shadow-2xl shadow-fuchsia-500/20"},te={class:"space-y-1.5"},ee={class:"flex justify-between items-center"},se={class:"text-fuchsia-300"},oe={class:"flex justify-between items-center"},le={class:"text-green-400"},ae={class:"flex justify-between items-center"},re={class:"text-red-400"},ie={class:"mt-3"},ne={class:"flex items-center space-x-2 mt-1"},de=["value"],he={__name:"Dashboard",props:{user:Object,balances:Object,package:Object,certification:Object,recent_withdrawals:Array,reviews:Array,stats:Object,quick_stats:Object},setup(s){const p=s,x=m(()=>p.user||{}),j=m(()=>p.balances?.total_earnings||0),i=T(0);let f;const A=()=>{i.value=(i.value+1)%p.reviews.length},L=a=>{k(),i.value=a,y()},y=()=>{p.reviews?.length>1&&(f=setInterval(A,5e3))},k=()=>{f&&clearInterval(f)},c=a=>a?new Date(a).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}):"N/A",R=a=>c(a),_=m(()=>`${window.location.origin}/register?ref=${x.value.id}`),E=async()=>{try{await navigator.clipboard.writeText(_.value),alert("Referral link copied to clipboard!")}catch(a){console.error("Failed to copy: ",a)}};return C(()=>{y()}),D(()=>{k()}),(a,e)=>{const B=K("Link");return l(),V(q,{title:"Dashboard"},{default:g(()=>[t("div",F,[d(u(O),{size:16,class:"text-purple-400"}),e[0]||(e[0]=t("span",null,"Account",-1)),e[1]||(e[1]=t("span",{class:"text-purple-400"},"›",-1)),e[2]||(e[2]=t("span",{class:"text-purple-300"},"Dashboard",-1))]),t("div",M,[t("div",P,[t("div",G,[t("div",J,[t("div",null,[e[3]||(e[3]=t("p",{class:"text-sm text-purple-200"},"Total Earnings",-1)),t("p",Q,"KES "+o(j.value.toLocaleString()),1)]),d(u(U),{size:24,class:"text-purple-300"})])]),t("div",Y,[t("div",H,[t("div",null,[e[4]||(e[4]=t("p",{class:"text-sm text-emerald-200"},"Active Referrals",-1)),t("p",X,o(s.stats.active_referrals),1)]),d(u(I),{size:24,class:"text-emerald-300"})])]),t("div",Z,[t("div",tt,[t("div",null,[e[5]||(e[5]=t("p",{class:"text-sm text-cyan-200"},"Job Applications",-1)),t("p",et,o(s.stats.job_applications),1)]),d(u($),{size:24,class:"text-cyan-300"})])]),t("div",st,[t("div",ot,[t("div",null,[e[6]||(e[6]=t("p",{class:"text-sm text-amber-200"},"Endorsements",-1)),t("p",lt,o(s.stats.active_endorsements),1)]),d(u(W),{size:24,class:"text-amber-300"})])])]),t("div",at,[t("div",rt,[t("h2",it,"Welcome Back "+o(a.$page.props.auth.user.name.split(" ")[0])+"!",1),e[8]||(e[8]=t("p",{class:"text-purple-200 text-sm mt-0.5"},"Good to see you again!",-1)),t("div",nt,[e[7]||(e[7]=t("div",{class:"w-2 h-2 bg-green-500 rounded-full mr-2"},null,-1)),t("span",dt,"Last login: "+o(c(x.value.last_active_at)),1)]),t("div",ct,[t("div",{class:h(["w-2 h-2 rounded-full",x.value.is_agent?"bg-green-500":"bg-yellow-500"])},null,2),t("span",xt,o(x.value.is_agent?"Verified Agent":"Regular Member"),1)])]),t("div",bt,[t("div",ut,[e[10]||(e[10]=t("h3",{class:"text-lg font-bold text-purple-300"},"Recent Reviews",-1)),d(B,{href:"/reviews",class:"text-xs text-purple-400 bg-purple-500/20 hover:bg-purple-500/30 px-2 py-1 rounded transition-colors"},{default:g(()=>e[9]||(e[9]=[z(" View All ")])),_:1})]),t("div",pt,[d(N,{name:"fade",mode:"out-in"},{default:g(()=>[(l(),r("div",{key:i.value,class:"w-full bg-slate-700/50 backdrop-blur-sm p-2.5 rounded-xl border border-purple-500/20"},[t("div",ft,[t("span",mt,o(s.reviews[i.value].user),1),t("div",gt,[(l(),r(v,null,w(5,n=>t("span",{key:n},o(n<=s.reviews[i.value].rating?"★":"☆"),1)),64))])]),t("p",ht,o(s.reviews[i.value].comment),1),t("p",vt,o(R(s.reviews[i.value].date)),1)]))]),_:1})]),t("div",wt,[(l(!0),r(v,null,w(s.reviews,(n,b)=>(l(),r("button",{key:b,onClick:ce=>L(b),class:h(["w-2 h-2 rounded-full transition-all duration-300",i.value===b?"bg-purple-500 w-4":"bg-purple-500/30"])},null,10,yt))),128))])]),t("div",kt,[e[11]||(e[11]=t("h3",{class:"text-lg font-bold mb-1"},"WhatsApp Balance",-1)),t("p",_t,"KES. "+o(s.balances.whatsapp_balance.toLocaleString()),1),e[12]||(e[12]=t("p",{class:"text-xs text-cyan-300 mt-1"},"Available for withdrawal",-1))]),t("div",St,[e[13]||(e[13]=t("h3",{class:"text-lg font-bold mb-1"},"Deposit Balance",-1)),t("p",jt,"KES. "+o(s.balances.deposit_balance.toLocaleString()),1),e[14]||(e[14]=t("p",{class:"text-xs text-violet-300 mt-1"},"Ready for investment",-1))]),t("div",At,[e[15]||(e[15]=t("h3",{class:"text-lg font-bold mb-1"},"Cashback Bonus",-1)),t("p",Lt,"KES. "+o(s.balances.cashback_bonus.toLocaleString()),1),e[16]||(e[16]=t("p",{class:"text-xs text-amber-300 mt-1"},"Available for use",-1))]),t("div",Rt,[e[17]||(e[17]=t("h3",{class:"text-lg font-bold mb-1"},"Current Package",-1)),t("p",Et,o(s.package.current),1),t("p",Bt,"Status: "+o(s.package.status),1),s.package.purchased_at?(l(),r("p",Tt," Purchased: "+o(c(s.package.purchased_at)),1)):S("",!0)]),t("div",Ct,[e[18]||(e[18]=t("h3",{class:"text-lg font-bold mb-1"},"Verification Status",-1)),t("p",Dt,o(s.certification.status),1),t("p",{class:h(["text-sm mt-1",s.certification.verified?"text-emerald-300":"text-yellow-300"])},o(s.certification.verified?"Account verified":"Verification pending"),3),s.certification.expires_at?(l(),r("p",Kt," Expires: "+o(c(s.certification.expires_at)),1)):S("",!0)]),t("div",Vt,[e[19]||(e[19]=t("h3",{class:"text-lg font-bold mb-1"},"Total Withdrawn",-1)),t("p",zt,"KES. "+o(s.balances.total_withdrawn.toLocaleString()),1),e[20]||(e[20]=t("p",{class:"text-xs text-indigo-300 mt-1"},"Lifetime withdrawals",-1))]),t("div",Nt,[e[22]||(e[22]=t("h3",{class:"text-lg font-bold mb-2 text-slate-300"},"Recent Activity",-1)),s.recent_withdrawals.length>0?(l(),r("div",Ot,[(l(!0),r(v,null,w(s.recent_withdrawals,(n,b)=>(l(),r("div",{key:b,class:"flex items-center justify-between"},[t("div",null,[t("p",Ut,o(n.type)+" Withdrawal",1),t("p",It,o(c(n.date)),1)]),t("span",$t,"+KES "+o(n.amount.toLocaleString()),1)]))),128))])):(l(),r("div",qt,e[21]||(e[21]=[t("p",{class:"text-slate-400"},"No recent activity",-1)])))]),t("div",Wt,[e[27]||(e[27]=t("h3",{class:"text-lg font-bold mb-2 text-sky-300"},"Quick Stats",-1)),t("div",Ft,[t("div",Mt,[e[23]||(e[23]=t("span",{class:"text-sky-200"},"Monthly Salary:",-1)),t("span",Pt,"KES "+o(s.quick_stats.monthly_income?.toLocaleString()||"0"),1)]),t("div",Gt,[e[24]||(e[24]=t("span",{class:"text-sky-200"},"Bonus Earned:",-1)),t("span",Jt,"KES "+o(s.quick_stats.bonus_earned?.toLocaleString()||"0"),1)]),t("div",Qt,[e[25]||(e[25]=t("span",{class:"text-sky-200"},"Total Invested:",-1)),t("span",Yt,"KES "+o(s.quick_stats.total_invested?.toLocaleString()||"0"),1)]),t("div",Ht,[e[26]||(e[26]=t("span",{class:"text-sky-200"},"Agent Since:",-1)),t("span",Xt,o(c(x.value.agent_since)),1)])])]),t("div",Zt,[e[32]||(e[32]=t("h3",{class:"text-lg font-bold mb-2"},"Referral Stats",-1)),t("div",te,[t("div",ee,[e[28]||(e[28]=t("span",{class:"text-fuchsia-200"},"Total Referrals:",-1)),t("span",se,o(s.stats.total_referrals),1)]),t("div",oe,[e[29]||(e[29]=t("span",{class:"text-fuchsia-200"},"Active Referrals:",-1)),t("span",le,o(s.stats.active_referrals),1)]),t("div",ae,[e[30]||(e[30]=t("span",{class:"text-fuchsia-200"},"Inactive Referrals:",-1)),t("span",re,o(s.stats.total_referrals-s.stats.active_referrals),1)]),t("div",ie,[e[31]||(e[31]=t("p",{class:"text-sm text-fuchsia-300"},"Your Referral Link:",-1)),t("div",ne,[t("input",{type:"text",value:_.value,readonly:"",class:"flex-1 bg-fuchsia-500/20 border border-fuchsia-500/30 rounded-lg px-3 py-1 text-sm text-fuchsia-300"},null,8,de),t("button",{onClick:E,class:"bg-fuchsia-500 hover:bg-fuchsia-600 px-3 py-1 rounded-lg text-sm transition-colors"}," Copy ")])])])])])])]),_:1})}}};export{he as default};
