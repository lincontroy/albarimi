import{r as K,c as $,a as b,o as l,w,b as e,d as c,u as n,e as i,f as A,t as o,n as g,F as h,h as y,x as B,p as E,i as _}from"./app-Df7980VK.js";import{P as x,L as I,_ as V}from"./DashboardLayout-DgP9U11H.js";import{C as S}from"./circle-check-big-Cdqwp_ac.js";import{L as P}from"./loader-circle-DjhAMbSa.js";import{C as z}from"./crown-B5WAqQLk.js";import{R as M}from"./refresh-cw-BsTGQZMA.js";import{E as N}from"./eye-BVmq6qp3.js";import{H as F}from"./history-DkSVdM6L.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./createLucideIcon-B2idOK5Q.js";import"./menu-ByyJuZzl.js";const H={class:"bg-gradient-to-r from-green-500/20 to-emerald-500/20 backdrop-blur-sm text-white px-4 lg:px-8 py-3 flex items-center space-x-2 text-sm border-b border-green-500/20"},R={class:"p-4 lg:p-8"},Y={class:"max-w-7xl mx-auto"},O={class:"mb-8"},Q={class:"bg-gradient-to-br from-slate-800/50 to-slate-900/50 backdrop-blur-xl border border-green-500/30 rounded-2xl p-6 shadow-2xl shadow-green-500/20"},q={class:"flex flex-col lg:flex-row items-center justify-between gap-4"},G={class:"text-2xl font-bold text-green-400"},J={class:"text-center"},U={key:0,class:"text-2xl font-bold text-white"},W={key:1,class:"text-2xl font-bold text-yellow-400"},X={class:"grid grid-cols-1 lg:grid-cols-4 gap-6 mb-8"},Z={class:"text-center mb-6"},T={class:"relative"},ee={class:"text-2xl font-bold text-white mb-2"},te={class:"text-3xl font-bold text-white mb-1"},se={class:"text-blue-200 text-sm"},ae={class:"text-sm opacity-90 mt-2"},oe={class:"mb-6 p-4 bg-black/30 rounded-xl"},le={class:"text-center mb-3"},ne={class:"text-xl font-bold text-green-400"},re={class:"flex justify-between text-sm"},ie={class:"font-semibold text-green-300"},de={class:"space-y-2 mb-6"},ce={class:"text-white/90"},ue=["disabled"],xe={key:1},ge={class:"text-center mb-6"},pe={class:"relative"},be={class:"text-2xl font-bold text-white mb-2"},me={class:"text-3xl font-bold text-white mb-1"},fe={class:"text-green-200 text-sm"},he={class:"text-sm opacity-90 mt-2"},ye={class:"mb-6 p-4 bg-black/30 rounded-xl"},ve={class:"text-center mb-3"},ke={class:"text-xl font-bold text-green-400"},we={class:"flex justify-between text-sm"},_e={class:"font-semibold text-green-300"},Se={class:"space-y-2 mb-6"},Pe={class:"text-white/90"},Ee=["disabled"],Le={key:1},Ke={class:"text-center mb-6"},ze={class:"relative"},Ce={class:"text-2xl font-bold text-white mb-2"},je={class:"text-3xl font-bold text-white mb-1"},De={class:"text-purple-200 text-sm"},$e={class:"text-sm opacity-90 mt-2"},Ae={class:"mb-6 p-4 bg-black/30 rounded-xl"},Be={class:"text-center mb-3"},Ie={class:"text-xl font-bold text-green-400"},Ve={class:"flex justify-between text-sm"},Me={class:"font-semibold text-green-300"},Ne={class:"space-y-2 mb-6"},Fe={class:"text-white/90"},He=["disabled"],Re={key:1},Ye={class:"text-center mb-6"},Oe={class:"relative"},Qe={class:"text-2xl font-bold text-white mb-2"},qe={class:"text-3xl font-bold text-white mb-1"},Ge={class:"text-orange-200 text-sm"},Je={class:"text-sm opacity-90 mt-2"},Ue={class:"mb-6 p-4 bg-black/30 rounded-xl"},We={class:"text-center mb-3"},Xe={class:"text-xl font-bold text-green-400"},Ze={class:"flex justify-between text-sm"},Te={class:"font-semibold text-green-300"},et={class:"space-y-2 mb-6"},tt={class:"text-white/90"},st=["disabled"],at={key:1},ot={key:0,class:"mb-8"},lt={class:"grid grid-cols-1 gap-4"},nt={class:"flex items-center justify-between mb-6"},rt={class:"flex items-center space-x-4"},it={class:"text-2xl font-bold text-white"},dt={class:"text-white/75"},ct={class:"grid grid-cols-1 md:grid-cols-3 gap-6"},ut={class:"bg-black/30 rounded-xl p-4"},xt={class:"space-y-2"},gt={class:"flex justify-between"},pt={class:"font-semibold"},bt={class:"flex justify-between"},mt={class:"flex justify-between"},ft={class:"flex justify-between"},ht={class:"bg-black/30 rounded-xl p-4"},yt={class:"space-y-3"},vt={class:"text-xl font-bold text-green-400"},kt={class:"text-xl font-bold text-green-400"},wt={class:"text-xl font-bold text-green-400"},_t={class:"bg-black/30 rounded-xl p-4"},St={class:"space-y-3"},Pt=["onClick"],Et={class:"mt-8 grid grid-cols-1 md:grid-cols-2 gap-4"},Lt={class:"flex items-center space-x-3"},Kt={class:"flex items-center space-x-3"},Ft={__name:"Index",props:{packages:Object,activePackages:Array,userBalance:Number},setup(a){const v=a,u=K(!1),p=K(null),L=$(()=>v.activePackages.find(r=>r.is_active)||null),m=r=>v.userBalance>=r,f=r=>({entry:"bg-gradient-to-br from-blue-600/40 to-cyan-600/40 border-blue-500/30 shadow-blue-500/20",lite:"bg-gradient-to-br from-green-600/40 to-emerald-600/40 border-green-500/30 shadow-green-500/20",pro:"bg-gradient-to-br from-purple-600/40 to-pink-600/40 border-purple-500/30 shadow-purple-500/20",bariplus:"bg-gradient-to-br from-orange-600/40 to-yellow-600/40 border-orange-500/30 shadow-orange-500/20"})[r]||"bg-gradient-to-br from-slate-600/40 to-slate-700/40 border-slate-500/30",C=r=>({entry:"text-blue-400",lite:"text-green-400",pro:"text-purple-400",bariplus:"text-orange-400"})[r]||"text-slate-400",j=r=>({entry:x,lite:x,pro:x,bariplus:z})[r]||x,k=async r=>{const t=v.packages[r];if(!m(t.amount)){alert(`Insufficient balance. You need KES ${t.amount.toLocaleString()}`);return}if(confirm(`Are you sure you want to purchase ${t.name} for KES ${t.amount.toLocaleString()}?`)){p.value=r,u.value=!0;try{await _.post("/packages/purchase",{package_type:r},{preserveScroll:!0,onSuccess:s=>{const d=s?.props?.flash||{};d.success?(alert(d.success),_.reload()):d.error&&alert(d.error)},onError:s=>{console.error("Error purchasing package:",s),alert("Failed to purchase package. Please try again.")}})}catch(s){console.error("Error purchasing package:",s),alert("An unexpected error occurred.")}finally{u.value=!1,p.value=null}}},D=async r=>{const t=v.activePackages.find(s=>s.id===r);if(t&&confirm(`Are you sure you want to renew ${t.package_name} for KES ${t.amount.toLocaleString()}?`))try{await _.post(`/packages/${r}/renew`,{},{preserveScroll:!0,onSuccess:s=>{const d=s?.props?.flash||{};d.success&&(alert(d.success),_.reload())},onError:s=>{console.error("Error renewing package:",s),alert("Failed to renew package.")}})}catch(s){console.error("Error renewing package:",s),alert("An unexpected error occurred.")}};return(r,t)=>(l(),b(V,{title:"Earning Packages"},{default:w(()=>[e("div",H,[c(n(x),{size:16,class:"text-green-400"}),t[4]||(t[4]=e("span",null,"Packages",-1)),t[5]||(t[5]=e("span",{class:"text-green-400"},"â€º",-1)),t[6]||(t[6]=e("span",{class:"text-green-300"},"Earning Plans",-1))]),e("div",R,[e("div",Y,[e("div",O,[e("div",Q,[e("div",q,[e("div",null,[t[7]||(t[7]=e("h3",{class:"text-lg font-bold text-white mb-1"},"Your Balance",-1)),e("p",G,"KES "+o(a.userBalance.toLocaleString()),1)]),e("div",J,[t[8]||(t[8]=e("p",{class:"text-green-300 text-sm mb-1"},"Active Package",-1)),L.value?(l(),i("p",U,o(L.value.package_name),1)):(l(),i("p",W,"None"))])])])]),e("div",X,[e("div",{class:g([f("entry"),"backdrop-blur-xl border rounded-2xl p-6 shadow-2xl"])},[e("div",Z,[e("div",T,[t[9]||(t[9]=e("div",{class:"absolute -top-2 -right-2 bg-blue-500 text-white text-xs px-2 py-1 rounded-full"}," Entry ",-1)),c(n(x),{size:48,class:"mx-auto text-blue-400 mb-4"})]),e("h3",ee,o(a.packages.entry.name),1),e("div",te,"KES "+o(a.packages.entry.amount.toLocaleString()),1),e("p",se,o(a.packages.entry.duration_days)+" days",1),e("p",ae,o(a.packages.entry.description),1)]),e("div",oe,[e("div",le,[t[10]||(t[10]=e("p",{class:"text-sm opacity-75"},"Monthly Potential",-1)),e("p",ne,"KES "+o(a.packages.entry.monthly_earnings.toLocaleString()),1)]),e("div",re,[t[11]||(t[11]=e("span",{class:"opacity-75"},"Daily:",-1)),e("span",ie,"KES "+o(a.packages.entry.daily_earnings),1)])]),e("ul",de,[(l(!0),i(h,null,y(a.packages.entry.features,(s,d)=>(l(),i("li",{key:d,class:"flex items-start space-x-2 text-sm"},[c(n(S),{size:16,class:"text-green-400 mt-0.5 flex-shrink-0"}),e("span",ce,o(s),1)]))),128))]),e("button",{onClick:t[0]||(t[0]=s=>k("entry")),disabled:!m(a.packages.entry.amount)||u.value,class:"w-full bg-gradient-to-r from-blue-600 to-cyan-600 hover:from-blue-500 hover:to-cyan-500 disabled:from-slate-600 disabled:to-slate-600 disabled:cursor-not-allowed text-white font-bold py-3 px-4 rounded-xl transition-all duration-200 shadow-lg shadow-blue-500/50 flex items-center justify-center space-x-2"},[u.value&&p.value==="entry"?(l(),b(n(P),{key:0,size:20,class:"animate-spin"})):(l(),i("span",xe,"Purchase Package"))],8,ue)],2),e("div",{class:g([f("lite"),"backdrop-blur-xl border rounded-2xl p-6 shadow-2xl"])},[e("div",ge,[e("div",pe,[t[12]||(t[12]=e("div",{class:"absolute -top-2 -right-2 bg-green-500 text-white text-xs px-2 py-1 rounded-full"}," Lite ",-1)),c(n(x),{size:48,class:"mx-auto text-green-400 mb-4"})]),e("h3",be,o(a.packages.lite.name),1),e("div",me,"KES "+o(a.packages.lite.amount.toLocaleString()),1),e("p",fe,o(a.packages.lite.duration_days)+" days",1),e("p",he,o(a.packages.lite.description),1)]),e("div",ye,[e("div",ve,[t[13]||(t[13]=e("p",{class:"text-sm opacity-75"},"Monthly Potential",-1)),e("p",ke,"KES "+o(a.packages.lite.monthly_earnings.toLocaleString()),1)]),e("div",we,[t[14]||(t[14]=e("span",{class:"opacity-75"},"Daily:",-1)),e("span",_e,"KES "+o(a.packages.lite.daily_earnings),1)])]),e("ul",Se,[(l(!0),i(h,null,y(a.packages.lite.features,(s,d)=>(l(),i("li",{key:d,class:"flex items-start space-x-2 text-sm"},[c(n(S),{size:16,class:"text-green-400 mt-0.5 flex-shrink-0"}),e("span",Pe,o(s),1)]))),128))]),e("button",{onClick:t[1]||(t[1]=s=>k("lite")),disabled:!m(a.packages.lite.amount)||u.value,class:"w-full bg-gradient-to-r from-green-600 to-emerald-600 hover:from-green-500 hover:to-emerald-500 disabled:from-slate-600 disabled:to-slate-600 disabled:cursor-not-allowed text-white font-bold py-3 px-4 rounded-xl transition-all duration-200 shadow-lg shadow-green-500/50 flex items-center justify-center space-x-2"},[u.value&&p.value==="lite"?(l(),b(n(P),{key:0,size:20,class:"animate-spin"})):(l(),i("span",Le,"Purchase Package"))],8,Ee)],2),e("div",{class:g([f("pro"),"backdrop-blur-xl border rounded-2xl p-6 shadow-2xl"])},[e("div",Ke,[e("div",ze,[t[15]||(t[15]=e("div",{class:"absolute -top-2 -right-2 bg-purple-500 text-white text-xs px-2 py-1 rounded-full"}," Pro ",-1)),c(n(x),{size:48,class:"mx-auto text-purple-400 mb-4"})]),e("h3",Ce,o(a.packages.pro.name),1),e("div",je,"KES "+o(a.packages.pro.amount.toLocaleString()),1),e("p",De,o(a.packages.pro.duration_days)+" days",1),e("p",$e,o(a.packages.pro.description),1)]),e("div",Ae,[e("div",Be,[t[16]||(t[16]=e("p",{class:"text-sm opacity-75"},"Monthly Potential",-1)),e("p",Ie,"KES "+o(a.packages.pro.monthly_earnings.toLocaleString()),1)]),e("div",Ve,[t[17]||(t[17]=e("span",{class:"opacity-75"},"Daily:",-1)),e("span",Me,"KES "+o(a.packages.pro.daily_earnings),1)])]),e("ul",Ne,[(l(!0),i(h,null,y(a.packages.pro.features,(s,d)=>(l(),i("li",{key:d,class:"flex items-start space-x-2 text-sm"},[c(n(S),{size:16,class:"text-green-400 mt-0.5 flex-shrink-0"}),e("span",Fe,o(s),1)]))),128))]),e("button",{onClick:t[2]||(t[2]=s=>k("pro")),disabled:!m(a.packages.pro.amount)||u.value,class:"w-full bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-500 hover:to-pink-500 disabled:from-slate-600 disabled:to-slate-600 disabled:cursor-not-allowed text-white font-bold py-3 px-4 rounded-xl transition-all duration-200 shadow-lg shadow-purple-500/50 flex items-center justify-center space-x-2"},[u.value&&p.value==="pro"?(l(),b(n(P),{key:0,size:20,class:"animate-spin"})):(l(),i("span",Re,"Purchase Package"))],8,He)],2),e("div",{class:g([f("bariplus"),"backdrop-blur-xl border rounded-2xl p-6 shadow-2xl"])},[e("div",Ye,[e("div",Oe,[t[18]||(t[18]=e("div",{class:"absolute -top-2 -right-2 bg-orange-500 text-white text-xs px-2 py-1 rounded-full"}," VIP ",-1)),c(n(z),{size:48,class:"mx-auto text-orange-400 mb-4"})]),e("h3",Qe,o(a.packages.bariplus.name),1),e("div",qe,"KES "+o(a.packages.bariplus.amount.toLocaleString()),1),e("p",Ge,o(a.packages.bariplus.duration_days)+" days",1),e("p",Je,o(a.packages.bariplus.description),1)]),e("div",Ue,[e("div",We,[t[19]||(t[19]=e("p",{class:"text-sm opacity-75"},"Monthly Potential",-1)),e("p",Xe,"KES "+o(a.packages.bariplus.monthly_earnings.toLocaleString()),1)]),e("div",Ze,[t[20]||(t[20]=e("span",{class:"opacity-75"},"Daily:",-1)),e("span",Te,"KES "+o(a.packages.bariplus.daily_earnings),1)])]),e("ul",et,[(l(!0),i(h,null,y(a.packages.bariplus.features,(s,d)=>(l(),i("li",{key:d,class:"flex items-start space-x-2 text-sm"},[c(n(S),{size:16,class:"text-green-400 mt-0.5 flex-shrink-0"}),e("span",tt,o(s),1)]))),128))]),e("button",{onClick:t[3]||(t[3]=s=>k("bariplus")),disabled:!m(a.packages.bariplus.amount)||u.value,class:"w-full bg-gradient-to-r from-orange-600 to-yellow-600 hover:from-orange-500 hover:to-yellow-500 disabled:from-slate-600 disabled:to-slate-600 disabled:cursor-not-allowed text-white font-bold py-3 px-4 rounded-xl transition-all duration-200 shadow-lg shadow-orange-500/50 flex items-center justify-center space-x-2"},[u.value&&p.value==="bariplus"?(l(),b(n(P),{key:0,size:20,class:"animate-spin"})):(l(),i("span",at,"Purchase Package"))],8,st)],2)]),a.activePackages.length>0?(l(),i("div",ot,[t[34]||(t[34]=e("h3",{class:"text-xl font-bold text-white mb-6"},"Your Active Package",-1)),e("div",lt,[(l(!0),i(h,null,y(a.activePackages.filter(s=>s.is_active),s=>(l(),i("div",{key:s.id,class:g([f(s.package_type),"backdrop-blur-xl border rounded-2xl p-6 shadow-2xl"])},[e("div",nt,[e("div",rt,[(l(),b(B(j(s.package_type)),{size:32,class:g(C(s.package_type))},null,8,["class"])),e("div",null,[e("h4",it,o(s.package_name),1),e("p",dt,o(a.packages[s.package_type].description),1)])]),t[21]||(t[21]=e("span",{class:"bg-green-500/20 text-green-400 px-4 py-2 rounded-full text-sm font-semibold"}," Active ",-1))]),e("div",ct,[e("div",ut,[t[26]||(t[26]=e("p",{class:"text-sm opacity-75 mb-2"},"Package Info",-1)),e("div",xt,[e("div",gt,[t[22]||(t[22]=e("span",{class:"opacity-75"},"Investment:",-1)),e("span",pt,"KES "+o(s.amount.toLocaleString()),1)]),e("div",bt,[t[23]||(t[23]=e("span",{class:"opacity-75"},"Activated:",-1)),e("span",null,o(s.activated_at),1)]),e("div",mt,[t[24]||(t[24]=e("span",{class:"opacity-75"},"Expires:",-1)),e("span",null,o(s.expires_at),1)]),e("div",ft,[t[25]||(t[25]=e("span",{class:"opacity-75"},"Days Left:",-1)),e("span",{class:g(["font-semibold",s.days_remaining<7?"text-red-400":"text-green-400"])},o(s.days_remaining)+" days ",3)])])]),e("div",ht,[t[30]||(t[30]=e("p",{class:"text-sm opacity-75 mb-2"},"Earnings Potential",-1)),e("div",yt,[e("div",null,[t[27]||(t[27]=e("p",{class:"opacity-75 text-xs"},"Daily Earnings:",-1)),e("p",vt," KES "+o(a.packages[s.package_type].daily_earnings.toLocaleString()),1)]),e("div",null,[t[28]||(t[28]=e("p",{class:"opacity-75 text-xs"},"Monthly Potential:",-1)),e("p",kt," KES "+o(a.packages[s.package_type].monthly_earnings.toLocaleString()),1)]),e("div",null,[t[29]||(t[29]=e("p",{class:"opacity-75 text-xs"},"Total Potential:",-1)),e("p",wt," KES "+o(s.potential_earnings.toLocaleString()),1)])])]),e("div",_t,[t[33]||(t[33]=e("p",{class:"text-sm opacity-75 mb-2"},"Quick Actions",-1)),e("div",St,[e("button",{onClick:d=>D(s.id),class:"w-full bg-gradient-to-r from-green-600 to-emerald-600 hover:from-green-500 hover:to-emerald-500 text-white font-bold py-2 px-4 rounded-xl transition-all duration-200 shadow-lg shadow-green-500/50 flex items-center justify-center space-x-2"},[c(n(M),{size:16}),t[31]||(t[31]=e("span",null,"Renew Package",-1))],8,Pt),c(n(E),{href:"/packages/"+s.id,class:"w-full bg-gradient-to-r from-blue-600 to-cyan-600 hover:from-blue-500 hover:to-cyan-500 text-white font-bold py-2 px-4 rounded-xl transition-all duration-200 shadow-lg shadow-blue-500/50 flex items-center justify-center space-x-2"},{default:w(()=>[c(n(N),{size:16}),t[32]||(t[32]=e("span",null,"View Details",-1))]),_:2},1032,["href"])])])])],2))),128))])])):A("",!0),e("div",Et,[c(n(E),{href:"/packages/history",class:"bg-gradient-to-br from-slate-800/50 to-slate-900/50 backdrop-blur-xl border border-green-500/30 rounded-2xl p-6 shadow-2xl shadow-green-500/20 hover:border-green-500 transition-all duration-200 group"},{default:w(()=>[e("div",Lt,[c(n(F),{size:24,class:"text-green-400 group-hover:text-green-300"}),t[35]||(t[35]=e("div",null,[e("h4",{class:"text-white font-bold group-hover:text-green-300"},"Purchase History"),e("p",{class:"text-green-400 text-sm"},"View all your package purchases")],-1))])]),_:1}),c(n(E),{href:"/dashboard",class:"bg-gradient-to-br from-slate-800/50 to-slate-900/50 backdrop-blur-xl border border-blue-500/30 rounded-2xl p-6 shadow-2xl shadow-blue-500/20 hover:border-blue-500 transition-all duration-200 group"},{default:w(()=>[e("div",Kt,[c(n(I),{size:24,class:"text-blue-400 group-hover:text-blue-300"}),t[36]||(t[36]=e("div",null,[e("h4",{class:"text-white font-bold group-hover:text-blue-300"},"Dashboard"),e("p",{class:"text-blue-400 text-sm"},"Back to dashboard")],-1))])]),_:1})])])])]),_:1}))}};export{Ft as default};
