import{r as v,a as x,o as l,w as b,b as t,d as i,u as a,e as u,p as w,g as R,t as m,l as S,F as _,h as E,n as M,m as f,v as y,i as d}from"./app-KUgWEtTK.js";import{S as g,_ as C}from"./DashboardLayout-CBd3-9Qr.js";import{L as z}from"./loader-circle-COzy0sLb.js";import{c as V}from"./createLucideIcon-fdl4BT3X.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./eye-CqiVPK0H.js";import"./menu-hSB8Arlo.js";/**
 * @license lucide-vue-next v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A=V("message-square",[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]]),B={class:"bg-gradient-to-r from-purple-500/20 to-pink-500/20 backdrop-blur-sm text-white px-4 lg:px-8 py-3 flex items-center space-x-2 text-sm border-b border-purple-500/20"},Y={class:"p-4 lg:p-8"},j={class:"max-w-4xl mx-auto"},F={class:"flex items-center justify-between mb-8"},L={key:0,class:"bg-gradient-to-br from-slate-800/50 to-slate-900/50 backdrop-blur-xl border border-blue-500/30 rounded-2xl p-6 shadow-2xl shadow-blue-500/20"},T={class:"flex items-center justify-between mb-6"},$={class:"flex items-center space-x-2"},q={class:"text-sm text-blue-400 bg-blue-500/20 px-3 py-1 rounded-full"},D={class:"flex space-x-1"},N=["onClick"],U={class:"flex items-center justify-end space-x-3 pt-4"},O=["disabled"],H={key:1},I={key:1,class:"text-center py-12"},ee={__name:"MyReviews",props:{userReview:Object},setup(p){const c=p,n=v(!1),s=v(c.userReview?{...c.userReview}:null),h=async()=>{if(s.value){n.value=!0;try{await d.put(`/reviews/${s.value.id}`,s.value,{preserveScroll:!0,onSuccess:r=>{const e=r?.props?.flash||{};e.success?(alert(e.success),d.reload()):e.error&&alert(e.error)},onError:r=>{console.error("Error updating review:",r),alert("Failed to update review. Please try again.")}})}catch(r){console.error("Error updating review:",r),alert("An unexpected error occurred.")}finally{n.value=!1}}},k=async()=>{if(confirm("Are you sure you want to delete your review? This cannot be undone."))try{await d.delete(`/reviews/${c.userReview.id}`,{preserveScroll:!0,onSuccess:r=>{const e=r?.props?.flash||{};e.success&&(alert(e.success),d.visit("/reviews"))},onError:r=>{console.error("Error deleting review:",r),alert("Failed to delete review.")}})}catch(r){console.error("Error deleting review:",r),alert("An unexpected error occurred.")}};return(r,e)=>(l(),x(C,{title:"My Review"},{default:b(()=>[t("div",B,[i(a(g),{size:16,class:"text-purple-400"}),e[2]||(e[2]=t("span",null,"Reviews",-1)),e[3]||(e[3]=t("span",{class:"text-purple-400"},"›",-1)),e[4]||(e[4]=t("span",{class:"text-purple-300"},"My Review",-1))]),t("div",Y,[t("div",j,[t("div",F,[e[6]||(e[6]=t("h1",{class:"text-2xl font-bold text-white"},"My Review",-1)),i(a(w),{href:"/reviews",class:"bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-500 hover:to-pink-500 text-white font-bold py-2 px-4 rounded-xl transition-all duration-200 shadow-lg shadow-purple-500/50"},{default:b(()=>e[5]||(e[5]=[R(" Back to All Reviews ")])),_:1})]),p.userReview?(l(),u("div",L,[t("div",T,[e[7]||(e[7]=t("h3",{class:"text-lg font-bold text-white"},"Edit Your Review",-1)),t("div",$,[t("span",q," Created: "+m(p.userReview.created_at),1)])]),t("form",{onSubmit:S(h,["prevent"]),class:"space-y-4"},[t("div",null,[e[8]||(e[8]=t("label",{class:"block text-sm text-blue-300 mb-2"},"Your Rating",-1)),t("div",D,[(l(),u(_,null,E(5,o=>t("button",{key:o,type:"button",onClick:P=>s.value.rating=o,class:M(["text-2xl transition-transform hover:scale-110",o<=s.value.rating?"text-yellow-400":"text-gray-400"])},m(o<=s.value.rating?"★":"☆"),11,N)),64))])]),t("div",null,[e[9]||(e[9]=t("label",{class:"block text-sm text-blue-300 mb-2"},"Review Title (Optional)",-1)),f(t("input",{"onUpdate:modelValue":e[0]||(e[0]=o=>s.value.title=o),type:"text",class:"w-full bg-black/30 border border-blue-500/30 text-white rounded-xl px-4 py-3 focus:outline-none focus:border-blue-400"},null,512),[[y,s.value.title]])]),t("div",null,[e[10]||(e[10]=t("label",{class:"block text-sm text-blue-300 mb-2"},"Your Review",-1)),f(t("textarea",{"onUpdate:modelValue":e[1]||(e[1]=o=>s.value.comment=o),required:"",rows:"6",class:"w-full bg-black/30 border border-blue-500/30 text-white rounded-xl px-4 py-3 focus:outline-none focus:border-blue-400"},null,512),[[y,s.value.comment]])]),t("div",U,[t("button",{type:"button",onClick:k,class:"bg-gradient-to-r from-red-600 to-pink-600 hover:from-red-500 hover:to-pink-500 text-white font-bold py-2 px-4 rounded-xl transition-all duration-200 shadow-lg shadow-red-500/50"}," Delete Review "),t("button",{type:"submit",disabled:n.value,class:"bg-gradient-to-r from-blue-600 to-cyan-600 hover:from-blue-500 hover:to-cyan-500 disabled:from-slate-600 disabled:to-slate-600 disabled:cursor-not-allowed text-white font-bold py-2 px-4 rounded-xl transition-all duration-200 shadow-lg shadow-blue-500/50"},[n.value?(l(),x(a(z),{key:0,size:20,class:"animate-spin"})):(l(),u("span",H,"Update Review"))],8,O)])],32)])):(l(),u("div",I,[i(a(A),{size:64,class:"mx-auto text-blue-400 mb-4 opacity-50"}),e[12]||(e[12]=t("p",{class:"text-blue-300 text-lg mb-2"},"You haven't written a review yet",-1)),e[13]||(e[13]=t("p",{class:"text-blue-400 text-sm mb-6"},"Share your experience with our platform",-1)),i(a(w),{href:"/reviews",class:"bg-gradient-to-r from-blue-600 to-cyan-600 hover:from-blue-500 hover:to-cyan-500 text-white font-bold py-3 px-6 rounded-xl transition-all duration-200 shadow-lg shadow-blue-500/50 inline-flex items-center space-x-2"},{default:b(()=>[i(a(g),{size:18}),e[11]||(e[11]=t("span",null,"Write Your Review",-1))]),_:1})]))])])]),_:1}))}};export{ee as default};
