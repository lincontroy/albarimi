import{r as A,c as B,a as b,o,w as L,b as e,d,u as n,e as i,f as u,t as a,g as k,F as w,h as v,n as f,i as _}from"./app-Df7980VK.js";import{S as j,P as z,_ as D}from"./DashboardLayout-DgP9U11H.js";import{n as p}from"./toastr-C_81njIi.js";import{_ as N}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{C as h}from"./crown-B5WAqQLk.js";import{C as g}from"./circle-check-big-Cdqwp_ac.js";import{L as M}from"./loader-circle-DjhAMbSa.js";import{R}from"./refresh-cw-BsTGQZMA.js";import"./createLucideIcon-B2idOK5Q.js";import"./eye-BVmq6qp3.js";import"./menu-ByyJuZzl.js";const I={class:"bg-gradient-to-r from-purple-500/20 to-pink-500/20 backdrop-blur-sm text-white px-4 lg:px-8 py-3 flex items-center space-x-2 text-sm border-b border-purple-500/20"},T={class:"p-4 lg:p-8"},V={class:"grid grid-cols-1 lg:grid-cols-3 gap-6"},q={class:"lg:col-span-2 bg-gradient-to-br from-slate-800/50 to-slate-900/50 backdrop-blur-xl border border-purple-500/30 rounded-2xl p-6 shadow-2xl shadow-purple-500/20"},F={key:0,class:"mb-6"},O={class:"bg-gradient-to-r from-emerald-600/40 to-green-600/40 backdrop-blur-xl border border-emerald-500/30 rounded-2xl p-6 shadow-2xl shadow-emerald-500/20"},X={class:"flex items-center justify-between"},Y={class:"flex items-center space-x-4"},U={class:"w-16 h-16 bg-gradient-to-br from-emerald-500 to-green-500 rounded-full flex items-center justify-center shadow-lg shadow-emerald-500/50"},H={class:"text-emerald-200"},W={class:"flex items-center space-x-2 mt-2"},$={class:"inline-flex items-center px-3 py-1 bg-emerald-500/30 rounded-full text-sm text-emerald-300 border border-emerald-500/50"},G={class:"text-right"},J={class:"text-2xl font-bold text-white"},Q={class:"space-y-4 mb-6"},Z={class:"text-white text-sm"},ee={key:1},te={class:"bg-gradient-to-r from-purple-500/20 to-pink-500/20 rounded-xl p-4 border border-purple-500/30 mb-6"},se={class:"flex justify-between items-center"},ae={class:"text-2xl font-bold text-white"},le={class:"text-right"},oe=["disabled"],re={key:0,class:"text-center text-red-400 text-sm mt-3"},ne={key:2,class:"bg-gradient-to-r from-green-500/20 to-emerald-500/20 rounded-xl p-4 border border-green-500/30"},ie={class:"grid grid-cols-2 gap-4"},de={class:"text-center"},ce={class:"text-2xl font-bold text-white"},pe={class:"text-center"},xe={class:"text-2xl font-bold text-white"},ue={class:"text-center"},ge={class:"text-2xl font-bold text-white"},me={class:"text-center"},be={class:"text-lg font-bold text-white"},fe={class:"space-y-6"},he={class:"bg-gradient-to-br from-green-600/40 to-emerald-600/40 backdrop-blur-xl border border-green-500/30 rounded-2xl p-6 shadow-2xl shadow-green-500/20"},ye={class:"space-y-4"},ke={class:"flex justify-between items-center"},we={class:"text-white font-bold"},ve={class:"flex justify-between items-center"},_e={class:"text-white font-bold"},Se={key:0,class:"flex justify-between items-center"},Pe={class:"text-green-400 font-bold"},Ee={key:1,class:"flex justify-between items-center"},Ce={class:"text-green-400 font-bold"},Ke={class:"bg-gradient-to-br from-blue-600/40 to-cyan-600/40 backdrop-blur-xl border border-blue-500/30 rounded-2xl p-6 shadow-2xl shadow-blue-500/20"},Ae={class:"space-y-2 text-sm"},Be={class:"flex items-start space-x-2"},Le={class:"flex items-start space-x-2"},je={class:"flex items-start space-x-2"},ze={class:"flex items-start space-x-2"},De={class:"mt-8 bg-gradient-to-br from-slate-800/50 to-slate-900/50 backdrop-blur-xl border border-purple-500/30 rounded-2xl p-6 shadow-2xl shadow-purple-500/20"},Ne={class:"flex justify-between items-center mb-6"},Me={class:"overflow-x-auto"},Re={class:"w-full"},Ie={class:"py-3 px-4 text-white font-mono"},Te={class:"py-3 px-4"},Ve={class:"text-green-400 font-bold"},qe={class:"py-3 px-4 text-purple-300"},Fe={class:"py-3 px-4 text-purple-300 text-sm font-mono"},Oe={class:"py-3 px-4 text-purple-300 text-sm"},Xe={class:"py-3 px-4"},Ye={key:0,class:"text-center py-8"},Ue={__name:"Index",props:{package:Object,recentPurchases:Array},setup(s){const y=s,c=A(!1),x=B(()=>y.package.deposit_balance>=6500&&!y.package.is_agent),S=async()=>{if(!(!x.value||c.value)){c.value=!0;try{const r=await fetch("/agent-package/purchase",{method:"POST",headers:{"X-Requested-With":"XMLHttpRequest","X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]').getAttribute("content")}}),t=await r.json();if(r.ok)_.reload(),p&&p.success(t.message,"Congratulations! ðŸŽ‰");else{let l=t.message||"Error purchasing agent package. Please try again.";throw t.errors&&(t.errors.balance?l=t.errors.balance:t.errors.general&&(l=t.errors.general)),new Error(l)}}catch(r){console.error("Error purchasing package:",r),p&&p.error(r.message,"Error!")}finally{c.value=!1}}},P=()=>{_.reload({only:["recentPurchases"]}),p&&p.info("Purchase list has been refreshed.","Refreshed!")},E=r=>({pending:"bg-yellow-500/20 text-yellow-300",completed:"bg-green-500/20 text-green-300",failed:"bg-red-500/20 text-red-300"})[r.toLowerCase()]||"bg-gray-500/20 text-gray-300",C=r=>({pending:"bg-yellow-400",completed:"bg-green-400",failed:"bg-red-400"})[r.toLowerCase()]||"bg-gray-400",m=r=>r?new Date(r).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"N/A";return(r,t)=>(o(),b(D,{title:"Agent Package"},{default:L(()=>[e("div",I,[d(n(h),{size:16,class:"text-purple-400"}),t[0]||(t[0]=e("span",null,"Agent",-1)),t[1]||(t[1]=e("span",{class:"text-purple-400"},"â€º",-1)),t[2]||(t[2]=e("span",{class:"text-purple-300"},"Agent Package",-1))]),e("div",T,[e("div",V,[e("div",q,[t[14]||(t[14]=e("h2",{class:"text-2xl font-bold text-white mb-2"},"Become a Barimax Agent",-1)),t[15]||(t[15]=e("p",{class:"text-purple-300 mb-6"},"Upgrade to our premium agent package and unlock exclusive benefits",-1)),s.package.is_agent?(o(),i("div",F,[e("div",O,[e("div",X,[e("div",Y,[e("div",U,[d(n(h),{size:32,class:"text-white"})]),e("div",null,[t[4]||(t[4]=e("h3",{class:"text-xl font-bold text-white"},"Barimax Agent",-1)),e("p",H,"Member since "+a(m(s.package.agent_since)),1),e("div",W,[e("span",$,[d(n(j),{size:14,class:"mr-1"}),t[3]||(t[3]=k(" Verified Agent "))])])])]),e("div",G,[t[5]||(t[5]=e("p",{class:"text-emerald-200 text-sm"},"Monthly Salary",-1)),e("p",J,"KES "+a(s.package.agent_salary.toLocaleString()),1)])])])])):u("",!0),e("div",Q,[(o(!0),i(w,null,v(s.package.benefits,(l,K)=>(o(),i("div",{key:K,class:"flex items-center space-x-3 p-3 bg-purple-500/10 rounded-xl border border-purple-500/20"},[d(n(g),{size:20,class:"text-green-400 flex-shrink-0"}),e("span",Z,a(l),1)]))),128))]),s.package.is_agent?(o(),i("div",ne,[t[13]||(t[13]=e("h3",{class:"text-lg font-bold text-white mb-3"},"Your Agent Benefits",-1)),e("div",ie,[e("div",de,[t[9]||(t[9]=e("p",{class:"text-green-200 text-sm"},"Cashback Bonus",-1)),e("p",ce,"KES "+a(s.package.agent_bonus.toLocaleString()),1)]),e("div",pe,[t[10]||(t[10]=e("p",{class:"text-green-200 text-sm"},"Monthly Salary",-1)),e("p",xe,"KES "+a(s.package.agent_salary.toLocaleString()),1)]),e("div",ue,[t[11]||(t[11]=e("p",{class:"text-green-200 text-sm"},"Total Earnings",-1)),e("p",ge,"KES "+a((s.package.agent_bonus+s.package.agent_salary).toLocaleString()),1)]),e("div",me,[t[12]||(t[12]=e("p",{class:"text-green-200 text-sm"},"Member Since",-1)),e("p",be,a(m(s.package.agent_since)),1)])])])):(o(),i("div",ee,[e("div",te,[e("div",se,[e("div",null,[t[6]||(t[6]=e("p",{class:"text-purple-300 text-sm"},"Your Deposit Balance",-1)),e("p",ae," KES "+a(s.package.deposit_balance.toLocaleString()),1)]),e("div",le,[t[7]||(t[7]=e("p",{class:"text-purple-300 text-sm"},"Package Price",-1)),t[8]||(t[8]=e("p",{class:"text-2xl font-bold text-white"}," KES 6,500 ",-1)),e("p",{class:f(["text-purple-400 text-xs mt-1",x.value?"text-green-400":"text-red-400"])},a(x.value?"Sufficient balance":"Insufficient balance"),3)])])]),e("button",{onClick:S,disabled:!x.value||c.value,class:"w-full bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-500 hover:to-pink-500 disabled:from-slate-600 disabled:to-slate-600 disabled:cursor-not-allowed text-white font-medium py-4 rounded-xl transition-all duration-200 shadow-lg shadow-purple-500/50 flex items-center justify-center space-x-2"},[c.value?(o(),b(n(M),{key:0,size:20,class:"animate-spin"})):(o(),b(n(h),{key:1,size:20})),e("span",null,a(c.value?"Processing...":"Become an Agent Now"),1)],8,oe),x.value?u("",!0):(o(),i("p",re," You need KES 6,500 in your deposit balance to purchase this package. "))]))]),e("div",fe,[e("div",he,[t[20]||(t[20]=e("h3",{class:"text-lg font-bold text-white mb-4"},"Agent Stats",-1)),e("div",ye,[e("div",ke,[t[16]||(t[16]=e("span",{class:"text-green-200"},"Agent Status",-1)),e("span",we,a(s.package.is_agent?"Active":"Not Agent"),1)]),e("div",ve,[t[17]||(t[17]=e("span",{class:"text-green-200"},"Deposit Balance",-1)),e("span",_e,"KES "+a(s.package.deposit_balance.toLocaleString()),1)]),s.package.is_agent?(o(),i("div",Se,[t[18]||(t[18]=e("span",{class:"text-green-200"},"Cashback Bonus",-1)),e("span",Pe,"KES "+a(s.package.agent_bonus.toLocaleString()),1)])):u("",!0),s.package.is_agent?(o(),i("div",Ee,[t[19]||(t[19]=e("span",{class:"text-green-200"},"Monthly Salary",-1)),e("span",Ce,"KES "+a(s.package.agent_salary.toLocaleString()),1)])):u("",!0)])]),e("div",Ke,[t[25]||(t[25]=e("h3",{class:"text-lg font-bold text-white mb-4"},"Package Benefits",-1)),e("ul",Ae,[e("li",Be,[d(n(g),{size:16,class:"text-green-400 mt-0.5 flex-shrink-0"}),t[21]||(t[21]=e("span",{class:"text-blue-100"},"KES 15,000 instant cashback bonus",-1))]),e("li",Le,[d(n(g),{size:16,class:"text-green-400 mt-0.5 flex-shrink-0"}),t[22]||(t[22]=e("span",{class:"text-blue-100"},"KES 35,000 monthly agent salary",-1))]),e("li",je,[d(n(g),{size:16,class:"text-green-400 mt-0.5 flex-shrink-0"}),t[23]||(t[23]=e("span",{class:"text-blue-100"},"Automatic and instant withdrawals",-1))]),e("li",ze,[d(n(g),{size:16,class:"text-green-400 mt-0.5 flex-shrink-0"}),t[24]||(t[24]=e("span",{class:"text-blue-100"},"Most Superior package benefits",-1))])])]),t[26]||(t[26]=e("div",{class:"bg-gradient-to-br from-purple-600/40 to-pink-600/40 backdrop-blur-xl border border-purple-500/30 rounded-2xl p-6 shadow-2xl shadow-purple-500/20"},[e("h3",{class:"text-lg font-bold text-white mb-4"},"Package Details"),e("div",{class:"space-y-3"},[e("div",{class:"flex justify-between items-center"},[e("span",{class:"text-purple-200"},"Package Price"),e("span",{class:"text-white font-bold"},"KES 6,500")]),e("div",{class:"flex justify-between items-center"},[e("span",{class:"text-purple-200"},"Cashback Bonus"),e("span",{class:"text-green-400 font-bold"},"KES 15,000")]),e("div",{class:"flex justify-between items-center"},[e("span",{class:"text-purple-200"},"Monthly Salary"),e("span",{class:"text-green-400 font-bold"},"KES 35,000")]),e("div",{class:"flex justify-between items-center"},[e("span",{class:"text-purple-200"},"Net Profit"),e("span",{class:"text-green-400 font-bold"},"KES 43,500")])])],-1))])]),e("div",De,[e("div",Ne,[t[28]||(t[28]=e("h3",{class:"text-xl font-bold text-white"},"Recent Package Purchases",-1)),e("button",{onClick:P,class:"bg-purple-600 hover:bg-purple-500 px-4 py-2 rounded-xl text-white text-sm transition-all duration-200 flex items-center space-x-2"},[d(n(R),{size:16}),t[27]||(t[27]=e("span",null,"Refresh",-1))])]),e("div",Me,[e("table",Re,[t[29]||(t[29]=e("thead",null,[e("tr",{class:"border-b border-purple-500/30"},[e("th",{class:"text-left py-3 px-4 text-purple-300 font-medium"},"ID"),e("th",{class:"text-left py-3 px-4 text-purple-300 font-medium"},"Amount"),e("th",{class:"text-left py-3 px-4 text-purple-300 font-medium"},"Package"),e("th",{class:"text-left py-3 px-4 text-purple-300 font-medium"},"Transaction ID"),e("th",{class:"text-left py-3 px-4 text-purple-300 font-medium"},"Date"),e("th",{class:"text-left py-3 px-4 text-purple-300 font-medium"},"Status")])],-1)),e("tbody",null,[(o(!0),i(w,null,v(s.recentPurchases,l=>(o(),i("tr",{key:l.id,class:"border-b border-purple-500/10 hover:bg-purple-500/5 transition-colors"},[e("td",Ie,"#"+a(l.id.toString().padStart(6,"0")),1),e("td",Te,[e("span",Ve,"KES "+a(l.amount.toLocaleString()),1)]),e("td",qe,a(l.package_name),1),e("td",Fe,a(l.transaction_id),1),e("td",Oe,a(m(l.purchased_at)),1),e("td",Xe,[e("span",{class:f(["inline-flex items-center px-2 py-1 rounded-full text-xs font-medium",E(l.status)])},[e("span",{class:f(["w-2 h-2 rounded-full mr-1.5",C(l.status)])},null,2),k(" "+a(l.status),1)],2)])]))),128))])]),s.recentPurchases.length===0?(o(),i("div",Ye,[d(n(z),{size:48,class:"mx-auto text-purple-400 mb-4"}),t[30]||(t[30]=e("p",{class:"text-purple-300 text-lg"},"No package purchases yet",-1)),t[31]||(t[31]=e("p",{class:"text-purple-400"},"Become an agent to unlock premium benefits",-1))])):u("",!0)])])])]),_:1}))}},lt=N(Ue,[["__scopeId","data-v-e3332090"]]);export{lt as default};
