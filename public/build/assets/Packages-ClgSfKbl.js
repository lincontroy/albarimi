import{r as k,a as _,o as r,w as f,b as e,d as c,u as d,t as l,p as v,e as o,F as u,h as b,n as g,f as w,i as S}from"./app-Df7980VK.js";import{P as D,W as $,_ as K}from"./DashboardLayout-DgP9U11H.js";import{A as L}from"./arrow-right-nGjLRXCg.js";import{S as F}from"./satellite-CGlrfF4T.js";import{C as M}from"./circle-check-big-Cdqwp_ac.js";import{L as N}from"./loader-circle-DjhAMbSa.js";import{A as T}from"./arrow-left-CoHJEoUM.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./createLucideIcon-B2idOK5Q.js";import"./eye-BVmq6qp3.js";import"./menu-ByyJuZzl.js";const I={class:"bg-gradient-to-r from-blue-500/20 to-cyan-500/20 backdrop-blur-sm text-white px-4 lg:px-8 py-3 flex items-center space-x-2 text-sm border-b border-blue-500/20"},Y={class:"p-4 lg:p-8"},V={class:"max-w-7xl mx-auto"},W={class:"mb-8"},j={class:"bg-gradient-to-br from-slate-800/50 to-slate-900/50 backdrop-blur-xl border border-purple-500/30 rounded-2xl p-6 shadow-2xl shadow-purple-500/20"},H={class:"flex flex-col lg:flex-row items-center justify-between gap-4"},R={class:"text-2xl font-bold text-purple-400"},q={class:"grid grid-cols-1 lg:grid-cols-3 gap-8 mb-8"},Q={key:0,class:"absolute top-4 right-4"},G={class:"text-center mb-6"},J={class:"text-2xl font-bold text-white mb-2"},O={class:"text-sm opacity-75"},U={class:"text-center mb-6"},X={class:"mb-2"},Z={class:"text-4xl font-bold text-white mb-1"},ee={key:0,class:"mt-2"},te={class:"text-sm text-green-400"},se={class:"mb-6"},re={class:"grid grid-cols-2 gap-4 mb-4"},oe={class:"text-center"},le={class:"text-xl font-bold text-white"},ae={class:"text-center"},ie={class:"text-xl font-bold text-green-400"},ne={class:"mb-4"},de={class:"space-y-2"},ce={class:"text-white"},ue=["onClick","disabled"],be={key:1,class:"mt-3 text-center"},xe={class:"text-red-400 text-sm"},pe={class:"mb-8"},me={class:"bg-gradient-to-br from-slate-800/50 to-slate-900/50 backdrop-blur-xl border border-blue-500/30 rounded-2xl shadow-2xl shadow-blue-500/20 overflow-hidden"},fe={class:"overflow-x-auto"},ge={class:"w-full"},he={class:"bg-black/30"},ve={class:"border-b border-blue-500/10"},we={class:"border-b border-blue-500/10"},ye={class:"border-b border-blue-500/10"},ke={class:"border-b border-blue-500/10"},_e={class:"space-y-1"},Se={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},Fe={class:"flex items-center space-x-3"},Ce={class:"flex items-center space-x-3"},Te={__name:"Packages",props:{packages:{type:Array,default:()=>[]},userBalance:{type:[Number,String],default:0}},setup(i){const y=i,x=k(!1),h=k(null),p=a=>(parseFloat(a)||0).toLocaleString("en-KE",{minimumFractionDigits:0,maximumFractionDigits:0}),C=a=>{const t=["bg-gradient-to-br from-blue-600/40 to-cyan-600/40 border-blue-500/30 shadow-blue-500/20","bg-gradient-to-br from-purple-600/40 to-pink-600/40 border-purple-500/30 shadow-purple-500/20","bg-gradient-to-br from-green-600/40 to-emerald-600/40 border-green-500/30 shadow-green-500/20","bg-gradient-to-br from-orange-600/40 to-red-600/40 border-orange-500/30 shadow-orange-500/20"];return t[a]||t[0]},P=a=>{const t=["text-blue-400","text-purple-400","text-green-400","text-orange-400"];return t[a]||t[0]},B=a=>{const t=["text-cyan-400","text-pink-400","text-emerald-400","text-red-400"];return t[a]||t[0]},A=a=>{const t=["bg-gradient-to-r from-blue-600 to-cyan-600 hover:from-blue-500 hover:to-cyan-500 disabled:from-slate-600 disabled:to-slate-600","bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-500 hover:to-pink-500 disabled:from-slate-600 disabled:to-slate-600","bg-gradient-to-r from-green-600 to-emerald-600 hover:from-green-500 hover:to-emerald-500 disabled:from-slate-600 disabled:to-slate-600","bg-gradient-to-r from-orange-600 to-red-600 hover:from-orange-500 hover:to-red-500 disabled:from-slate-600 disabled:to-slate-600"];return t[a]||t[0]},E=async a=>{const t=y.packages.find(s=>s.id===a);if(t){if(parseFloat(y.userBalance)<t.price){alert(`Insufficient balance. You need KES ${p(t.price)} to subscribe to this package.`);return}if(confirm(`Are you sure you want to subscribe to ${t.name}?

Setup Fee: ${t.formatted_price}
Monthly Fee: ${t.formatted_monthly_fee}

Total initial payment: ${t.formatted_price}`)){h.value=a,x.value=!0;try{await S.post("/starlink/subscribe",{package_id:a},{preserveScroll:!0,onSuccess:s=>{const n=s?.props?.flash||{};n.success?(alert(n.success),S.visit("/starlink")):n.error&&alert(n.error)},onError:s=>{console.error("Error subscribing:",s),alert("Failed to subscribe. Please try again.")}})}catch(s){console.error("Error subscribing:",s),alert("An unexpected error occurred.")}finally{x.value=!1,h.value=null}}}};return(a,t)=>(r(),_(K,{title:"Starlink Packages"},{default:f(()=>[e("div",I,[c(d(D),{size:16,class:"text-blue-400"}),t[0]||(t[0]=e("span",null,"Starlink",-1)),t[1]||(t[1]=e("span",{class:"text-blue-400"},"›",-1)),t[2]||(t[2]=e("span",{class:"text-blue-300"},"Packages",-1))]),e("div",Y,[e("div",V,[t[22]||(t[22]=e("div",{class:"mb-8"},[e("h1",{class:"text-2xl lg:text-3xl font-bold text-white mb-2"},"Starlink Internet Packages"),e("p",{class:"text-blue-300"},"Choose the perfect plan for your internet needs")],-1)),e("div",W,[e("div",j,[e("div",H,[e("div",null,[t[3]||(t[3]=e("h3",{class:"text-lg font-bold text-white mb-1"},"Your Balance",-1)),e("p",R,"KES "+l(p(i.userBalance)),1)]),e("div",null,[t[5]||(t[5]=e("p",{class:"text-purple-300 text-sm mb-1"},"Available for subscription",-1)),c(d(v),{href:"/wallet/deposit",class:"text-purple-400 hover:text-purple-300 text-sm flex items-center space-x-1"},{default:f(()=>[t[4]||(t[4]=e("span",null,"Deposit Funds",-1)),c(d(L),{size:14})]),_:1})])])])]),e("div",q,[(r(!0),o(u,null,b(i.packages,(s,n)=>(r(),o("div",{key:s.id,class:g([C(n),"backdrop-blur-xl border rounded-2xl p-8 shadow-2xl relative overflow-hidden"])},[n===1?(r(),o("div",Q,t[6]||(t[6]=[e("span",{class:"bg-gradient-to-r from-yellow-600 to-orange-600 text-white px-3 py-1 rounded-full text-xs font-bold"}," Most Popular ",-1)]))):w("",!0),e("div",G,[c(d(F),{size:48,class:g(["mx-auto mb-4",P(n)])},null,8,["class"]),e("h3",J,l(s.name),1),e("p",O,l(s.description),1)]),e("div",U,[e("div",X,[t[7]||(t[7]=e("p",{class:"text-sm opacity-75"},"Setup Fee",-1)),e("p",Z,l(s.formatted_price),1)]),e("div",null,[t[8]||(t[8]=e("p",{class:"text-sm opacity-75"},"Monthly Fee",-1)),e("p",{class:g(["text-2xl font-bold",B(n)])},l(s.formatted_monthly_fee)+"/month",3)]),s.monthly_savings>0?(r(),o("div",ee,[e("p",te," Save KES "+l(p(s.monthly_savings))+" with "+l(s.duration_text),1)])):w("",!0)]),e("div",se,[e("div",re,[e("div",oe,[t[9]||(t[9]=e("p",{class:"text-sm opacity-75"},"Speed",-1)),e("p",le,l(s.speed_mbps)+" Mbps",1)]),e("div",ae,[t[10]||(t[10]=e("p",{class:"text-sm opacity-75"},"Data",-1)),e("p",ie,l(s.data_limit_text),1)])]),e("div",ne,[t[11]||(t[11]=e("p",{class:"text-sm opacity-75 mb-2"},"Features Included:",-1)),e("ul",de,[(r(!0),o(u,null,b(s.features,(m,z)=>(r(),o("li",{key:z,class:"flex items-start space-x-2 text-sm"},[c(d(M),{size:16,class:"text-green-400 mt-0.5 flex-shrink-0"}),e("span",ce,l(m),1)]))),128))])])]),e("button",{onClick:m=>E(s.id),disabled:x.value||parseFloat(i.userBalance)<s.price,class:g([A(n),"w-full text-white font-bold py-4 px-6 rounded-xl transition-all duration-200 shadow-lg flex items-center justify-center space-x-2 text-lg"])},[x.value&&h.value===s.id?(r(),_(d(N),{key:0,size:20,class:"animate-spin"})):(r(),o(u,{key:1},[c(d(F),{size:20}),t[12]||(t[12]=e("span",null,"Subscribe Now",-1))],64))],10,ue),parseFloat(i.userBalance)<s.price?(r(),o("div",be,[e("p",xe," Insufficient balance. Need KES "+l(p(s.price-parseFloat(i.userBalance)))+" more. ",1)])):w("",!0)],2))),128))]),e("div",pe,[t[19]||(t[19]=e("h3",{class:"text-xl font-bold text-white mb-4"},"Package Comparison",-1)),e("div",me,[e("div",fe,[e("table",ge,[e("thead",null,[e("tr",he,[t[13]||(t[13]=e("th",{class:"text-left p-4 text-blue-300 font-semibold"},"Feature",-1)),(r(!0),o(u,null,b(i.packages,s=>(r(),o("th",{key:s.id,class:"text-left p-4 text-blue-300 font-semibold"},l(s.name),1))),128))])]),e("tbody",null,[e("tr",ve,[t[14]||(t[14]=e("td",{class:"p-4 text-white"},"Download Speed",-1)),(r(!0),o(u,null,b(i.packages,s=>(r(),o("td",{key:s.id,class:"p-4 text-white"},l(s.speed_mbps)+" Mbps ",1))),128))]),e("tr",we,[t[15]||(t[15]=e("td",{class:"p-4 text-white"},"Data Limit",-1)),(r(!0),o(u,null,b(i.packages,s=>(r(),o("td",{key:s.id,class:"p-4 text-white"},l(s.data_limit_text),1))),128))]),e("tr",ye,[t[16]||(t[16]=e("td",{class:"p-4 text-white"},"Setup Fee",-1)),(r(!0),o(u,null,b(i.packages,s=>(r(),o("td",{key:s.id,class:"p-4 text-white"},l(s.formatted_price),1))),128))]),e("tr",ke,[t[17]||(t[17]=e("td",{class:"p-4 text-white"},"Monthly Fee",-1)),(r(!0),o(u,null,b(i.packages,s=>(r(),o("td",{key:s.id,class:"p-4 text-white"},l(s.formatted_monthly_fee),1))),128))]),e("tr",null,[t[18]||(t[18]=e("td",{class:"p-4 text-white"},"Key Features",-1)),(r(!0),o(u,null,b(i.packages,s=>(r(),o("td",{key:s.id,class:"p-4"},[e("ul",_e,[(r(!0),o(u,null,b(s.features.slice(0,2),(n,m)=>(r(),o("li",{key:m,class:"text-xs text-blue-300"}," • "+l(n),1))),128))])]))),128))])])])])])]),t[23]||(t[23]=e("div",{class:"mb-8"},[e("h3",{class:"text-xl font-bold text-white mb-4"},"Frequently Asked Questions"),e("div",{class:"grid grid-cols-1 md:grid-cols-2 gap-4"},[e("div",{class:"bg-gradient-to-br from-slate-800/50 to-slate-900/50 backdrop-blur-xl border border-purple-500/30 rounded-2xl p-6 shadow-2xl shadow-purple-500/20"},[e("h4",{class:"text-lg font-bold text-white mb-2"},"How does Starlink work?"),e("p",{class:"text-purple-300 text-sm"},"Starlink uses a constellation of low Earth orbit satellites to provide high-speed internet access. The kit includes a satellite dish, router, and cables.")]),e("div",{class:"bg-gradient-to-br from-slate-800/50 to-slate-900/50 backdrop-blur-xl border border-green-500/30 rounded-2xl p-6 shadow-2xl shadow-green-500/20"},[e("h4",{class:"text-lg font-bold text-white mb-2"},"What's included in the setup fee?"),e("p",{class:"text-green-300 text-sm"},"The setup fee includes the Starlink kit (satellite dish, router, power supply, cables) and initial activation of your service.")]),e("div",{class:"bg-gradient-to-br from-slate-800/50 to-slate-900/50 backdrop-blur-xl border border-blue-500/30 rounded-2xl p-6 shadow-2xl shadow-blue-500/20"},[e("h4",{class:"text-lg font-bold text-white mb-2"},"Can I cancel anytime?"),e("p",{class:"text-blue-300 text-sm"},"Yes, you can cancel your subscription at any time. The service will remain active until the end of your current billing period.")]),e("div",{class:"bg-gradient-to-br from-slate-800/50 to-slate-900/50 backdrop-blur-xl border border-orange-500/30 rounded-2xl p-6 shadow-2xl shadow-orange-500/20"},[e("h4",{class:"text-lg font-bold text-white mb-2"},"How long does delivery take?"),e("p",{class:"text-orange-300 text-sm"},"Delivery typically takes 2-4 weeks depending on your location. You'll receive tracking information once your kit ships.")])])],-1)),e("div",Se,[c(d(v),{href:"/starlink",class:"bg-gradient-to-br from-slate-800/50 to-slate-900/50 backdrop-blur-xl border border-blue-500/30 rounded-2xl p-6 shadow-2xl shadow-blue-500/20 hover:border-blue-500 transition-all duration-200 group"},{default:f(()=>[e("div",Fe,[c(d(T),{size:24,class:"text-blue-400 group-hover:text-blue-300"}),t[20]||(t[20]=e("div",null,[e("h4",{class:"text-white font-bold group-hover:text-blue-300"},"Back to Starlink"),e("p",{class:"text-blue-400 text-sm"},"Return to main dashboard")],-1))])]),_:1}),c(d(v),{href:"/wallet/deposit",class:"bg-gradient-to-br from-slate-800/50 to-slate-900/50 backdrop-blur-xl border border-green-500/30 rounded-2xl p-6 shadow-2xl shadow-green-500/20 hover:border-green-500 transition-all duration-200 group"},{default:f(()=>[e("div",Ce,[c(d($),{size:24,class:"text-green-400 group-hover:text-green-300"}),t[21]||(t[21]=e("div",null,[e("h4",{class:"text-white font-bold group-hover:text-green-300"},"Deposit Funds"),e("p",{class:"text-green-400 text-sm"},"Add funds to subscribe")],-1))])]),_:1})])])])]),_:1}))}};export{Te as default};
