import{r as C,y as M,a as g,o as r,w as x,b as t,d as o,u as l,t as a,e as n,p as b,f as u,F as m,h,g as y,D as w,n as S,i as _}from"./app-KUgWEtTK.js";import{B as v,D as L,X as T,_ as B}from"./DashboardLayout-CBd3-9Qr.js";import{F as k}from"./file-text-CW7SMSPg.js";import{C as F}from"./clock-D3FQRx8N.js";import{C as c}from"./circle-check-big-C1-uGsP2.js";import{P as $}from"./plus-BclHIRSC.js";import{L as D}from"./loader-circle-COzy0sLb.js";import{E}from"./eye-CqiVPK0H.js";import{c as J}from"./createLucideIcon-fdl4BT3X.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./menu-hSB8Arlo.js";/**
 * @license lucide-vue-next v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N=J("lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]),V={class:"bg-gradient-to-r from-blue-500/20 to-cyan-500/20 backdrop-blur-sm text-white px-4 lg:px-8 py-3 flex items-center space-x-2 text-sm border-b border-blue-500/20"},H={class:"p-4 lg:p-8"},P={class:"max-w-7xl mx-auto"},K={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8"},Y={class:"bg-gradient-to-br from-slate-800/50 to-slate-900/50 backdrop-blur-xl border border-blue-500/30 rounded-2xl p-6 shadow-2xl shadow-blue-500/20"},O={class:"flex items-center space-x-3 mb-3"},R={class:"text-3xl font-bold text-white mb-2"},I={class:"bg-gradient-to-br from-slate-800/50 to-slate-900/50 backdrop-blur-xl border border-yellow-500/30 rounded-2xl p-6 shadow-2xl shadow-yellow-500/20"},W={class:"flex items-center space-x-3 mb-3"},X={class:"text-3xl font-bold text-white mb-2"},q={class:"bg-gradient-to-br from-slate-800/50 to-slate-900/50 backdrop-blur-xl border border-green-500/30 rounded-2xl p-6 shadow-2xl shadow-green-500/20"},G={class:"flex items-center space-x-3 mb-3"},Q={class:"text-3xl font-bold text-white mb-2"},U={class:"bg-gradient-to-br from-slate-800/50 to-slate-900/50 backdrop-blur-xl border border-purple-500/30 rounded-2xl p-6 shadow-2xl shadow-purple-500/20"},Z={class:"flex items-center space-x-3 mb-3"},tt={class:"text-3xl font-bold text-purple-400 mb-2"},et={class:"bg-gradient-to-br from-slate-800/50 to-slate-900/50 backdrop-blur-xl border border-blue-500/30 rounded-2xl p-6 shadow-2xl shadow-blue-500/20 mb-8"},st={class:"flex items-center justify-between mb-6"},lt={class:"flex items-center space-x-2"},ot={key:0,class:"text-center py-12"},rt={key:1,class:"text-center py-12"},at={key:2,class:"overflow-x-auto"},nt={class:"w-full"},it={class:"py-4 px-4"},dt={class:"flex items-center space-x-2 mt-1"},xt={class:"text-xs text-blue-300"},bt={class:"text-xs text-green-400"},ct={class:"py-4 px-4"},pt={key:0,class:"text-xs text-blue-300 mt-1"},ut={class:"py-4 px-4 text-blue-200 text-sm"},mt={key:0,class:"text-xs text-green-300"},ft={class:"py-4 px-4"},gt={class:"text-green-400 font-bold"},ht={class:"py-4 px-4"},yt={class:"flex items-center space-x-2"},wt=["onClick"],_t={key:0,class:"mt-6"},vt={class:"flex items-center justify-center space-x-2"},kt=["innerHTML"],At={key:1,class:"bg-slate-800/30 text-slate-500 cursor-not-allowed px-4 py-2 rounded-lg"},jt=["innerHTML"],zt={class:"bg-gradient-to-br from-slate-800/50 to-slate-900/50 backdrop-blur-xl border border-green-500/30 rounded-2xl p-6 shadow-2xl shadow-green-500/20"},Ct={class:"text-lg font-bold text-white mb-4 flex items-center space-x-2"},Mt={class:"space-y-2 text-blue-200"},St={class:"flex items-start space-x-2"},Lt={class:"flex items-start space-x-2"},Tt={class:"flex items-start space-x-2"},Bt={class:"flex items-start space-x-2"},Rt={__name:"MyJobs",props:{applications:{type:Object,default:()=>({data:[],links:[]})},stats:{type:Object,default:()=>({})},userBalance:{type:[Number,String],default:0}},setup(i){const p=C(!1),A=d=>(parseFloat(d)||0).toLocaleString("en-KE",{minimumFractionDigits:0,maximumFractionDigits:0}),f=d=>({blue:"#3b82f6",green:"#10b981",red:"#ef4444",purple:"#8b5cf6",orange:"#f97316",cyan:"#06b6d4",gray:"#6b7280",indigo:"#6366f1"})[d]||"#3b82f6",j=d=>({"bg-blue-500":"rgba(59, 130, 246, 0.2)","bg-yellow-500":"rgba(250, 204, 21, 0.2)","bg-green-500":"rgba(34, 197, 94, 0.2)","bg-red-500":"rgba(239, 68, 68, 0.2)","bg-gray-500":"rgba(100, 116, 139, 0.2)"})[d]||"rgba(59, 130, 246, 0.2)",z=async d=>{if(confirm("Are you sure you want to withdraw this application? This action cannot be undone.")){p.value=!0;try{await _.post(`/applications/${d}/withdraw`,{},{preserveScroll:!0,onSuccess:()=>{_.reload({preserveScroll:!0})},onError:e=>{console.error("Error withdrawing application:",e),alert("Failed to withdraw application. Please try again."),p.value=!1}})}catch(e){console.error("Error withdrawing application:",e),alert("An unexpected error occurred."),p.value=!1}}};return M(()=>{}),(d,e)=>(r(),g(B,{title:"My Job Applications"},{default:x(()=>[t("div",V,[o(l(v),{size:16,class:"text-blue-400"}),e[0]||(e[0]=t("span",null,"Jobs",-1)),e[1]||(e[1]=t("span",{class:"text-blue-400"},"â€º",-1)),e[2]||(e[2]=t("span",{class:"text-blue-300"},"My Applications",-1))]),t("div",H,[t("div",P,[e[25]||(e[25]=t("div",{class:"mb-8"},[t("h1",{class:"text-2xl lg:text-3xl font-bold text-white mb-2"},"My Job Applications"),t("p",{class:"text-blue-300"},"Track and manage your job applications")],-1)),t("div",K,[t("div",Y,[t("div",O,[o(l(k),{size:24,class:"text-blue-400"}),e[3]||(e[3]=t("h3",{class:"text-lg font-bold text-white"},"Total Applications",-1))]),t("p",R,a(i.stats.total),1),e[4]||(e[4]=t("p",{class:"text-sm text-blue-300"},"All time applications",-1))]),t("div",I,[t("div",W,[o(l(F),{size:24,class:"text-yellow-400"}),e[5]||(e[5]=t("h3",{class:"text-lg font-bold text-white"},"Pending Review",-1))]),t("p",X,a(i.stats.pending+i.stats.reviewing),1),e[6]||(e[6]=t("p",{class:"text-sm text-yellow-300"},"Awaiting employer response",-1))]),t("div",q,[t("div",G,[o(l(c),{size:24,class:"text-green-400"}),e[7]||(e[7]=t("h3",{class:"text-lg font-bold text-white"},"Shortlisted",-1))]),t("p",Q,a(i.stats.shortlisted),1),e[8]||(e[8]=t("p",{class:"text-sm text-green-300"},"Advancing in process",-1))]),t("div",U,[t("div",Z,[o(l(L),{size:24,class:"text-purple-400"}),e[9]||(e[9]=t("h3",{class:"text-lg font-bold text-white"},"Total Spent",-1))]),t("p",tt,"KES "+a(A(i.stats.total_spent)),1),e[10]||(e[10]=t("p",{class:"text-sm text-purple-300"},"Application fees total",-1))])]),t("div",et,[t("div",st,[e[12]||(e[12]=t("h2",{class:"text-xl font-bold text-white"},"All Applications",-1)),t("div",lt,[o(l(b),{href:"/jobs",class:"text-blue-400 hover:text-blue-300 flex items-center space-x-1 text-sm"},{default:x(()=>[o(l($),{size:16}),e[11]||(e[11]=t("span",null,"Apply for More Jobs",-1))]),_:1})])]),p.value?(r(),n("div",ot,[o(l(D),{class:"animate-spin mx-auto text-blue-400",size:48}),e[13]||(e[13]=t("p",{class:"text-blue-300 mt-4"},"Loading applications...",-1))])):i.applications.data.length===0?(r(),n("div",rt,[o(l(k),{size:48,class:"mx-auto text-blue-400 mb-3"}),e[15]||(e[15]=t("h4",{class:"text-lg font-bold text-white mb-2"},"No Applications Yet",-1)),e[16]||(e[16]=t("p",{class:"text-blue-300 mb-4"},"You haven't applied for any jobs yet",-1)),o(l(b),{href:"/jobs",class:"bg-gradient-to-r from-blue-600 to-cyan-600 hover:from-blue-500 hover:to-cyan-500 text-white font-bold py-2 px-6 rounded-lg transition-all duration-200 inline-flex items-center space-x-2"},{default:x(()=>[o(l(v),{size:16}),e[14]||(e[14]=t("span",null,"Browse Jobs",-1))]),_:1})])):(r(),n("div",at,[t("table",nt,[e[19]||(e[19]=t("thead",null,[t("tr",{class:"border-b border-blue-500/20"},[t("th",{class:"text-left py-3 px-4 text-blue-300 font-semibold"},"Job Details"),t("th",{class:"text-left py-3 px-4 text-blue-300 font-semibold"},"Status"),t("th",{class:"text-left py-3 px-4 text-blue-300 font-semibold"},"Date Applied"),t("th",{class:"text-left py-3 px-4 text-blue-300 font-semibold"},"Fee"),t("th",{class:"text-left py-3 px-4 text-blue-300 font-semibold"},"Actions")])],-1)),t("tbody",null,[(r(!0),n(m,null,h(i.applications.data,s=>(r(),n("tr",{key:s.id,class:"border-b border-blue-500/10 hover:bg-black/20 transition-colors"},[t("td",it,[t("div",null,[o(l(b),{href:`/jobs/${s.job_id}`,class:"text-white font-bold hover:text-blue-300 transition-colors"},{default:x(()=>[y(a(s.job_title),1)]),_:2},1032,["href"]),t("div",dt,[t("span",{class:"inline-flex items-center px-2 py-0.5 rounded text-xs",style:w(`background-color: ${f(s.job_category_color)}20; color: ${f(s.job_category_color)}`)},a(s.job_category),5),t("span",xt,a(s.job_location),1),t("span",bt,a(s.job_salary),1)])])]),t("td",ct,[t("span",{class:"inline-flex items-center px-3 py-1 rounded-full text-xs font-semibold",style:w(`background-color: ${j(s.status_color)}; color: ${s.status_color}`)},a(s.status_text),5),s.days_since_applied>0?(r(),n("div",pt," Applied "+a(s.days_since_applied)+" day"+a(s.days_since_applied!==1?"s":"")+" ago ",1)):u("",!0)]),t("td",ut,[y(a(s.applied_at)+" ",1),s.reviewed_at?(r(),n("div",mt," Reviewed: "+a(s.reviewed_at),1)):u("",!0)]),t("td",ft,[t("div",gt,a(s.formatted_fee),1)]),t("td",ht,[t("div",yt,[o(l(b),{href:`/jobs/${s.job_id}`,class:"text-blue-400 hover:text-blue-300 text-sm flex items-center space-x-1"},{default:x(()=>[o(l(E),{size:14}),e[17]||(e[17]=t("span",null,"View Job",-1))]),_:2},1032,["href"]),s.status==="pending"?(r(),n("button",{key:0,onClick:Ft=>z(s.id),class:"text-red-400 hover:text-red-300 text-sm flex items-center space-x-1"},[o(l(T),{size:14}),e[18]||(e[18]=t("span",null,"Withdraw",-1))],8,wt)):u("",!0)])])]))),128))])]),i.applications.links&&i.applications.links.length>3?(r(),n("div",_t,[t("div",vt,[(r(!0),n(m,null,h(i.applications.links,s=>(r(),n(m,{key:s.label},[s.url?(r(),g(l(b),{key:0,href:s.url,class:S([{"bg-blue-600 text-white":s.active,"bg-slate-800/50 text-slate-300 hover:bg-slate-700/50":!s.active},"px-4 py-2 rounded-lg transition-all duration-200"]),"preserve-scroll":""},{default:x(()=>[t("span",{innerHTML:s.label},null,8,kt)]),_:2},1032,["href","class"])):(r(),n("span",At,[t("span",{innerHTML:s.label},null,8,jt)]))],64))),128))])])):u("",!0)]))]),t("div",zt,[t("h3",Ct,[o(l(N),{size:20,class:"text-green-400"}),e[20]||(e[20]=t("span",null,"Application Tips",-1))]),t("ul",Mt,[t("li",St,[o(l(c),{size:16,class:"text-green-400 flex-shrink-0 mt-0.5"}),e[21]||(e[21]=t("span",null,"Applications are reviewed within 3-7 business days",-1))]),t("li",Lt,[o(l(c),{size:16,class:"text-green-400 flex-shrink-0 mt-0.5"}),e[22]||(e[22]=t("span",null,"Application fees are non-refundable once processed",-1))]),t("li",Tt,[o(l(c),{size:16,class:"text-green-400 flex-shrink-0 mt-0.5"}),e[23]||(e[23]=t("span",null,"Keep your profile and resume updated for better chances",-1))]),t("li",Bt,[o(l(c),{size:16,class:"text-green-400 flex-shrink-0 mt-0.5"}),e[24]||(e[24]=t("span",null,"You can withdraw pending applications at any time",-1))])])])])])]),_:1}))}};export{Rt as default};
